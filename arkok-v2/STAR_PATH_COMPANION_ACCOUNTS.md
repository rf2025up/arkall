# 《星途与伴》校区账户系统交付手册 (V5.0)

本手册定义了“星途与伴”校区的初始权限矩阵与账户分配，并勾勒了平台管理员（超级管理员）的顶级权限模型。

## 1. 校区基本信息
- **校区名称**: 星途与伴
- **校区 ID (UUID)**: *[自动生成，用于 SaaS 租户隔离]*
- **教育哲学**: 培养自主学习力，反馈驱动成长。

---

## 2. 账号体系清单 (现已激活账户)

| 姓名 | 登录账号 | 初始密码 | 角色 (Role) | 权限职责 |
| :--- | :--- | :--- | :--- | :--- |
| **开发者 (您)** | **root** / **developer** | *[待激活]* | **SUPER_ADMIN** | **上帝视角**。管理所有校区、续费控制、AI 功能插件开关。 |
| **系统管理员 (校长)**| **admin** | 123456 | **ADMIN** | **校内全权**。查看全校学生名单、认领/分配学生、查看全校看板。 |
| **龙老师** | **long** | 123456 | **TEACHER** | **核心教学**。管理班级课表、发布备课、过关评价、1v1 讲解。 |
| **测试教师** | **testteacher** | 123456 | **TEACHER** | 测试及演示用账号。 |

---

## 3. 角色权限定义 (RBAC Matrix)

### 3.1 超级管理员 (SUPER_ADMIN) - **平台中枢**
- **跨租户访问**: 唯一能绕过 `schoolId` 过滤器的账号。
- **账务控制**: 修改校区有效期，控制是否下发 **AI 错题分析**、**智能讲解** 等高级包。
- **系统预警**: 监控全平台校区的活跃人数、存储空间、API 调用量。

### 3.2 校长 (ADMIN) - **校区统筹**
- **人员调度**: 管理全校教师账号（如给新老师开账号）。
- **关系重组**: 在“全校数据”模式下，将未分配学生划入特定老师名下。
- **校区设置**: 修改校区的“教育哲学”展示内容、配置校级勋章库。

### 3.3 老师 (TEACHER) - **责任田执行**
- **数据隐私**: 默认仅能编辑和操作自己名下的学生。
- **教学工具**: 所有的备课计划、过关评价记录均默认贴上其 `teacherId` 标签。
- **1v1 沉淀**: 记录与学生的深度讲解详情，产生 `task_records` 流水。

---

## 4. 技术实施建议
1. **数据库扩容**: 我将更新 `schema.prisma` 中的 `Role` 枚举，增加 `SUPER_ADMIN` 类型。
2. **初始化逻辑**: 提供一个 `init_star_path.ts` 脚本，一键创建上述组织架构及账号。
3. **安全准则**: 初始密码 `123456` 仅供首次登录，建议登录后通过 Profile 页面立即完成密码修改。

---
*星途与伴，共筑成长。本设计由 V5.0 权威架构师于 2025-12-23 签发。*
