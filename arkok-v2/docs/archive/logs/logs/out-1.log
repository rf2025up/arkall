2025-12-17T14:39:51: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T14:39:51: ğŸŒ Environment: production
2025-12-17T14:39:51: ğŸ”Œ Port: 3000
2025-12-17T14:39:51: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T14:39:51: ğŸ“ Static path exists: true
2025-12-17T14:39:51: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T14:39:51: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T14:39:51: âœ… Database connected successfully
2025-12-17T14:39:51: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T14:39:51: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T14:39:51: ğŸ”Œ WebSocket server ready
2025-12-17T14:39:51: ğŸŒ Environment: production
2025-12-17T14:41:40: 
ğŸ›‘ SIGTERM received, shutting down gracefully...
2025-12-17T14:41:40: ğŸ›‘ Shutting down server...
2025-12-17T14:41:40: âœ… Database disconnected
2025-12-17T14:41:42: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T14:41:42: ğŸŒ Environment: production
2025-12-17T14:41:42: ğŸ”Œ Port: 3000
2025-12-17T14:41:42: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T14:41:42: ğŸ“ Static path exists: true
2025-12-17T14:41:42: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T14:41:42: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T14:41:42: âœ… Database connected successfully
2025-12-17T14:41:42: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T14:41:42: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T14:41:42: ğŸ”Œ WebSocket server ready
2025-12-17T14:41:42: ğŸŒ Environment: production
2025-12-17T14:41:53: 
ğŸ›‘ SIGTERM received, shutting down gracefully...
2025-12-17T14:41:53: ğŸ›‘ Shutting down server...
2025-12-17T14:41:53: âœ… Database disconnected
2025-12-17T14:41:55: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T14:41:55: ğŸŒ Environment: production
2025-12-17T14:41:55: ğŸ”Œ Port: 3000
2025-12-17T14:41:55: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T14:41:55: ğŸ“ Static path exists: true
2025-12-17T14:41:55: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T14:41:55: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T14:41:55: âœ… Database connected successfully
2025-12-17T14:41:55: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T14:41:55: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T14:41:55: ğŸ”Œ WebSocket server ready
2025-12-17T14:41:55: ğŸŒ Environment: production
2025-12-17T14:43:42: 2025-12-17T14:43:42.022Z - GET /habits
2025-12-17T14:43:42: 2025-12-17T14:43:42.581Z - GET /assets/index-DGGpHUud.css
2025-12-17T14:43:45: 2025-12-17T14:43:45.018Z - GET /api/students
2025-12-17T14:43:45: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T14:43:45: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T14:43:45: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T14:43:45: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T14:43:45: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T14:43:45: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T14:43:45: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T14:43:45: Request query params: {}
2025-12-17T14:43:45: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: undefined,
  scope: undefined,
  userRole: undefined,
  requesterId: undefined
}
2025-12-17T14:43:45: [DEBUG] âŒ CRITICAL: teacherId is missing from query!
2025-12-17T14:43:45: [DEBUG] Available query params: []
2025-12-17T14:43:45: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: undefined,
  scope: undefined,
  userRole: undefined
}
2025-12-17T14:43:45: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T14:43:45: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T14:43:45: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T14:43:45: [TEACHER BINDING] âœ… Found 46 students for scope: undefined
2025-12-17T14:43:45: [DEBUG] Service returned: {
  students: [
    {
      id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æå°çº¢',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 20,
      points: 1435,
      exp: 1958,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.691Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å°å',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 19,
      points: 1380,
      exp: 1850,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.694Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '35018b04-4b1d-4a39-8411-09d55fd8aba4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èµµå°ç¾',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 950,
      exp: 1600,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.693Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '4e1ce33f-1081-4d32-98c0-b0ef2a8feccd',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¼ å°æ˜',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 3,
      points: 870,
      exp: 1205,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.689Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '3922d8e1-7631-4d76-9e77-e0cdd16fd55f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å°å¼º',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 780,
      exp: 1100,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.692Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'eddc5a62-7994-45ab-831f-7678a2e33e92',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '111',
      className: '1111',
      level: 4,
      points: 258,
      exp: 300,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:26:06.769Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '570e41be-681d-4892-bb57-d4bad7e40985',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å”è‰ºé¦¨',
      className: 'å§œè€å¸ˆç­',
      level: 2,
      points: 10310,
      exp: 199,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.151Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a0c083ed-3dbb-4b19-83e3-fe3136e56da4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®‹å­æ™¨',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1100,
      exp: 90,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.153Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '56451443-918f-4784-a759-7a010457312f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æŸæˆ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 2995,
      exp: 58,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.182Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ec2b8cff-ab40-48ce-aad6-21d58c81c980',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½•æ³½æ˜•',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 445,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.185Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'c1b7becf-7c22-4901-bf4b-dddfbe4f845c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ç ”æ›¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1880,
      exp: 50,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.167Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'fb3e1095-1edb-4b42-81b8-3d5f5744f4a8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æ­£æ¥ ',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1153,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.140Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '577a615e-0ec0-40c7-b7ea-d274fc6eb142',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é»„è¡æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1270,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.191Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '8a629a26-84df-414a-8541-6f543ae84ef2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ–¹æ™¯æ€¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3185,
      exp: 44,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.195Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '456bb6e1-6a12-40d9-978f-8dacf78508ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å´é€¸æ¡',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1279,
      exp: 37,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.148Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f3b26359-2347-44a0-a991-780c87adacbb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å½¦èˆ’',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 605,
      exp: 34,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.159Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '55978b8f-9467-48f1-8bcd-f95224e044d3',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èˆ’æ˜±æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 290,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.155Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '6fcc0c5f-912b-48e4-ba1b-c17e7f226d6a',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆé‡‘é”',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1580,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.143Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a151595d-26a6-42a4-97fc-0988220b0e65',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è°Œé›¨æ¶µ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1060,
      exp: 24,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.193Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9ebb1630-0692-4d37-81f9-01c89f1f602f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½™æ²å¦',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 3233,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.160Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '1dd13004-95e4-4643-947f-eac9e198f465',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¾æ±‡æ´‹',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 5,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'be503d07-18a9-4c5b-8836-7f6b943ae051',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆç¬‘å¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3790,
      exp: 14,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.180Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'd4d0d812-d0cf-4477-bce3-b6a8684971b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åºå­ç¥',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1310,
      exp: 7,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.162Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f35c8b56-4200-4dcf-8950-eb72832214fe',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å‡¡å…®',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 385,
      exp: 5,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.183Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '40a3cf36-1ccb-40fe-b34e-f9c49c91c6ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¶¦éœ–',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 466,
      exp: 3,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.173Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '14c6339d-7b8c-48c7-8695-f638375a6b3d',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '115',
      className: '115',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T16:35:27.558Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '8ff2199c-2c15-4d39-937a-d6b86018b1a9',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '21112',
      className: '2111',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:09:01.127Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '98aef396-f106-4627-b8a0-9a019b27e88c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33',
      className: '33',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:53.670Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '777b75ac-9cdc-4709-ac3d-c289078803d6',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '333',
      className: '222',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:58.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '33a7f6cf-d714-498d-97d3-a2c15547cce7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33ã€‘ã€‘44',
      className: '33444',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:06:08.006Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ab6b62de-5f9d-4ed9-a381-b4664c1dcbed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '55',
      className: '77',
      level: 1,
      points: 100,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:47:09.986Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9cc96732-9117-47d4-ad46-fa1a8cc7a8a2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalTestSuccess',
      className: 'FinalClassSuccess',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:31.347Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ed35b905-2274-4297-b1c2-fd505728c5b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalVerificationTest',
      className: 'VerificationClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:08:51.236Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '00752949-2494-48e7-9211-c019e4fd5db4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'Serviceä¿®å¤æµ‹è¯•',
      className: 'ä¸‰å¹´çº§äº”ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:35:10.820Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'b0f71df3-b899-4cb9-bf1f-20d753618586',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'TestVisibility',
      className: 'TestClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:03.624Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '01137edf-b8ec-46a1-8196-d20268402df7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å“ˆå“ˆå“ˆ',
      className: 'å“ˆå“ˆå“ˆ',
      level: 1,
      points: 200,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T15:47:57.349Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '62b956ae-2baa-465c-a3af-80fbd740b6a7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ä¸€å‡¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1005,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.176Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'cf16afa2-6d8a-41c1-9d9d-bc66d8538a96',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æµ‹è¯•å­¦ç”Ÿ',
      className: 'ä¸‰å¹´çº§ä¸‰ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:33:24.918Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    }
  ],
  pagination: { page: 1, limit: 46, total: 46, totalPages: 1 }
}
2025-12-17T14:43:45: [DEBUG] Number of students in result: 46
2025-12-17T14:43:45: [DEBUG] Students data preview: [
  {
    id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æå°çº¢',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 20,
    points: 1435,
    exp: 1958,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.691Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  },
  {
    id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'åˆ˜å°å',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 19,
    points: 1380,
    exp: 1850,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.694Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  }
]
2025-12-17T14:43:45: [DEBUG] Response sent to frontend successfully
2025-12-17T14:43:45: 2025-12-17T14:43:45.105Z - GET /api/students
2025-12-17T14:43:45: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T14:43:45: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T14:43:45: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T14:43:45: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T14:43:45: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T14:43:45: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T14:43:45: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T14:43:45: Request query params: {}
2025-12-17T14:43:45: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: undefined,
  scope: undefined,
  userRole: undefined,
  requesterId: undefined
}
2025-12-17T14:43:45: [DEBUG] âŒ CRITICAL: teacherId is missing from query!
2025-12-17T14:43:45: [DEBUG] Available query params: []
2025-12-17T14:43:45: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: undefined,
  scope: undefined,
  userRole: undefined
}
2025-12-17T14:43:45: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T14:43:45: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T14:43:45: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T14:43:45: [TEACHER BINDING] âœ… Found 46 students for scope: undefined
2025-12-17T14:43:45: [DEBUG] Service returned: {
  students: [
    {
      id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æå°çº¢',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 20,
      points: 1435,
      exp: 1958,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.691Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å°å',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 19,
      points: 1380,
      exp: 1850,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.694Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '35018b04-4b1d-4a39-8411-09d55fd8aba4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èµµå°ç¾',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 950,
      exp: 1600,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.693Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '4e1ce33f-1081-4d32-98c0-b0ef2a8feccd',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¼ å°æ˜',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 3,
      points: 870,
      exp: 1205,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.689Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '3922d8e1-7631-4d76-9e77-e0cdd16fd55f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å°å¼º',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 780,
      exp: 1100,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.692Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'eddc5a62-7994-45ab-831f-7678a2e33e92',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '111',
      className: '1111',
      level: 4,
      points: 258,
      exp: 300,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:26:06.769Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '570e41be-681d-4892-bb57-d4bad7e40985',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å”è‰ºé¦¨',
      className: 'å§œè€å¸ˆç­',
      level: 2,
      points: 10310,
      exp: 199,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.151Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a0c083ed-3dbb-4b19-83e3-fe3136e56da4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®‹å­æ™¨',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1100,
      exp: 90,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.153Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '56451443-918f-4784-a759-7a010457312f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æŸæˆ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 2995,
      exp: 58,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.182Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ec2b8cff-ab40-48ce-aad6-21d58c81c980',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½•æ³½æ˜•',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 445,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.185Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'c1b7becf-7c22-4901-bf4b-dddfbe4f845c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ç ”æ›¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1880,
      exp: 50,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.167Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'fb3e1095-1edb-4b42-81b8-3d5f5744f4a8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æ­£æ¥ ',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1153,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.140Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '577a615e-0ec0-40c7-b7ea-d274fc6eb142',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é»„è¡æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1270,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.191Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '8a629a26-84df-414a-8541-6f543ae84ef2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ–¹æ™¯æ€¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3185,
      exp: 44,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.195Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '456bb6e1-6a12-40d9-978f-8dacf78508ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å´é€¸æ¡',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1279,
      exp: 37,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.148Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f3b26359-2347-44a0-a991-780c87adacbb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å½¦èˆ’',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 605,
      exp: 34,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.159Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '55978b8f-9467-48f1-8bcd-f95224e044d3',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èˆ’æ˜±æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 290,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.155Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '6fcc0c5f-912b-48e4-ba1b-c17e7f226d6a',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆé‡‘é”',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1580,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.143Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a151595d-26a6-42a4-97fc-0988220b0e65',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è°Œé›¨æ¶µ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1060,
      exp: 24,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.193Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9ebb1630-0692-4d37-81f9-01c89f1f602f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½™æ²å¦',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 3233,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.160Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '1dd13004-95e4-4643-947f-eac9e198f465',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¾æ±‡æ´‹',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 5,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'be503d07-18a9-4c5b-8836-7f6b943ae051',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆç¬‘å¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3790,
      exp: 14,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.180Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'd4d0d812-d0cf-4477-bce3-b6a8684971b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åºå­ç¥',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1310,
      exp: 7,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.162Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f35c8b56-4200-4dcf-8950-eb72832214fe',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å‡¡å…®',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 385,
      exp: 5,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.183Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '40a3cf36-1ccb-40fe-b34e-f9c49c91c6ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¶¦éœ–',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 466,
      exp: 3,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.173Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '14c6339d-7b8c-48c7-8695-f638375a6b3d',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '115',
      className: '115',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T16:35:27.558Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '8ff2199c-2c15-4d39-937a-d6b86018b1a9',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '21112',
      className: '2111',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:09:01.127Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '98aef396-f106-4627-b8a0-9a019b27e88c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33',
      className: '33',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:53.670Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '777b75ac-9cdc-4709-ac3d-c289078803d6',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '333',
      className: '222',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:58.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '33a7f6cf-d714-498d-97d3-a2c15547cce7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33ã€‘ã€‘44',
      className: '33444',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:06:08.006Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ab6b62de-5f9d-4ed9-a381-b4664c1dcbed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '55',
      className: '77',
      level: 1,
      points: 100,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:47:09.986Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9cc96732-9117-47d4-ad46-fa1a8cc7a8a2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalTestSuccess',
      className: 'FinalClassSuccess',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:31.347Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ed35b905-2274-4297-b1c2-fd505728c5b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalVerificationTest',
      className: 'VerificationClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:08:51.236Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '00752949-2494-48e7-9211-c019e4fd5db4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'Serviceä¿®å¤æµ‹è¯•',
      className: 'ä¸‰å¹´çº§äº”ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:35:10.820Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'b0f71df3-b899-4cb9-bf1f-20d753618586',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'TestVisibility',
      className: 'TestClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:03.624Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '01137edf-b8ec-46a1-8196-d20268402df7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å“ˆå“ˆå“ˆ',
      className: 'å“ˆå“ˆå“ˆ',
      level: 1,
      points: 200,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T15:47:57.349Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '62b956ae-2baa-465c-a3af-80fbd740b6a7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ä¸€å‡¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1005,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.176Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'cf16afa2-6d8a-41c1-9d9d-bc66d8538a96',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æµ‹è¯•å­¦ç”Ÿ',
      className: 'ä¸‰å¹´çº§ä¸‰ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:33:24.918Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    }
  ],
  pagination: { page: 1, limit: 46, total: 46, totalPages: 1 }
}
2025-12-17T14:43:45: [DEBUG] Number of students in result: 46
2025-12-17T14:43:45: [DEBUG] Students data preview: [
  {
    id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æå°çº¢',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 20,
    points: 1435,
    exp: 1958,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.691Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  },
  {
    id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'åˆ˜å°å',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 19,
    points: 1380,
    exp: 1850,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.694Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  }
]
2025-12-17T14:43:45: [DEBUG] Response sent to frontend successfully
2025-12-17T14:43:46: 2025-12-17T14:43:46.955Z - GET /api/students
2025-12-17T14:43:46: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T14:43:46: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T14:43:46: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T14:43:46: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T14:43:46: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T14:43:46: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T14:43:46: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T14:43:46: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER'
}
2025-12-17T14:43:46: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T14:43:46: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T14:43:46: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T14:43:46: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T14:43:46: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T14:43:46: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T14:43:46: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T14:43:46: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T14:43:46: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T14:43:46: [DEBUG] Number of students in result: 8
2025-12-17T14:43:46: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T14:43:46: [DEBUG] Response sent to frontend successfully
2025-12-17T14:43:48: 2025-12-17T14:43:48.456Z - GET /api/habits
2025-12-17T14:43:48: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T14:43:48: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T14:43:48: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T14:43:48: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T14:43:48: 2025-12-17T14:43:48.550Z - GET /avatar.jpg
2025-12-17T14:43:48: 2025-12-17T14:43:48.562Z - GET /api/students
2025-12-17T14:43:48: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T14:43:48: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T14:43:48: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T14:43:48: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T14:43:48: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T14:43:48: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T14:43:48: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T14:43:48: Request query params: {}
2025-12-17T14:43:48: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: undefined,
  scope: undefined,
  userRole: undefined,
  requesterId: undefined
}
2025-12-17T14:43:48: [DEBUG] âŒ CRITICAL: teacherId is missing from query!
2025-12-17T14:43:48: [DEBUG] Available query params: []
2025-12-17T14:43:48: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: undefined,
  scope: undefined,
  userRole: undefined
}
2025-12-17T14:43:48: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T14:43:48: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T14:43:48: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T14:43:48: [TEACHER BINDING] âœ… Found 46 students for scope: undefined
2025-12-17T14:43:48: [DEBUG] Service returned: {
  students: [
    {
      id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æå°çº¢',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 20,
      points: 1435,
      exp: 1958,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.691Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å°å',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 19,
      points: 1380,
      exp: 1850,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.694Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '35018b04-4b1d-4a39-8411-09d55fd8aba4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èµµå°ç¾',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 950,
      exp: 1600,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.693Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '4e1ce33f-1081-4d32-98c0-b0ef2a8feccd',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¼ å°æ˜',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 3,
      points: 870,
      exp: 1205,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.689Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '3922d8e1-7631-4d76-9e77-e0cdd16fd55f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å°å¼º',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 780,
      exp: 1100,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.692Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'eddc5a62-7994-45ab-831f-7678a2e33e92',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '111',
      className: '1111',
      level: 4,
      points: 258,
      exp: 300,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:26:06.769Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '570e41be-681d-4892-bb57-d4bad7e40985',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å”è‰ºé¦¨',
      className: 'å§œè€å¸ˆç­',
      level: 2,
      points: 10310,
      exp: 199,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.151Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a0c083ed-3dbb-4b19-83e3-fe3136e56da4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®‹å­æ™¨',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1100,
      exp: 90,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.153Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '56451443-918f-4784-a759-7a010457312f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æŸæˆ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 2995,
      exp: 58,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.182Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ec2b8cff-ab40-48ce-aad6-21d58c81c980',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½•æ³½æ˜•',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 445,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.185Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'c1b7becf-7c22-4901-bf4b-dddfbe4f845c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ç ”æ›¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1880,
      exp: 50,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.167Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'fb3e1095-1edb-4b42-81b8-3d5f5744f4a8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æ­£æ¥ ',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1153,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.140Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '577a615e-0ec0-40c7-b7ea-d274fc6eb142',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é»„è¡æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1270,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.191Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '8a629a26-84df-414a-8541-6f543ae84ef2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ–¹æ™¯æ€¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3185,
      exp: 44,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.195Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '456bb6e1-6a12-40d9-978f-8dacf78508ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å´é€¸æ¡',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1279,
      exp: 37,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.148Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f3b26359-2347-44a0-a991-780c87adacbb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å½¦èˆ’',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 605,
      exp: 34,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.159Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '55978b8f-9467-48f1-8bcd-f95224e044d3',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èˆ’æ˜±æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 290,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.155Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '6fcc0c5f-912b-48e4-ba1b-c17e7f226d6a',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆé‡‘é”',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1580,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.143Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a151595d-26a6-42a4-97fc-0988220b0e65',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è°Œé›¨æ¶µ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1060,
      exp: 24,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.193Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9ebb1630-0692-4d37-81f9-01c89f1f602f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½™æ²å¦',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 3233,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.160Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '1dd13004-95e4-4643-947f-eac9e198f465',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¾æ±‡æ´‹',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 5,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'be503d07-18a9-4c5b-8836-7f6b943ae051',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆç¬‘å¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3790,
      exp: 14,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.180Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'd4d0d812-d0cf-4477-bce3-b6a8684971b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åºå­ç¥',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1310,
      exp: 7,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.162Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f35c8b56-4200-4dcf-8950-eb72832214fe',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å‡¡å…®',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 385,
      exp: 5,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.183Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '40a3cf36-1ccb-40fe-b34e-f9c49c91c6ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¶¦éœ–',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 466,
      exp: 3,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.173Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '14c6339d-7b8c-48c7-8695-f638375a6b3d',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '115',
      className: '115',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T16:35:27.558Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '8ff2199c-2c15-4d39-937a-d6b86018b1a9',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '21112',
      className: '2111',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:09:01.127Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '98aef396-f106-4627-b8a0-9a019b27e88c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33',
      className: '33',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:53.670Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '777b75ac-9cdc-4709-ac3d-c289078803d6',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '333',
      className: '222',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:58.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '33a7f6cf-d714-498d-97d3-a2c15547cce7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33ã€‘ã€‘44',
      className: '33444',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:06:08.006Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ab6b62de-5f9d-4ed9-a381-b4664c1dcbed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '55',
      className: '77',
      level: 1,
      points: 100,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:47:09.986Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9cc96732-9117-47d4-ad46-fa1a8cc7a8a2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalTestSuccess',
      className: 'FinalClassSuccess',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:31.347Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ed35b905-2274-4297-b1c2-fd505728c5b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalVerificationTest',
      className: 'VerificationClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:08:51.236Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '00752949-2494-48e7-9211-c019e4fd5db4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'Serviceä¿®å¤æµ‹è¯•',
      className: 'ä¸‰å¹´çº§äº”ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:35:10.820Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'b0f71df3-b899-4cb9-bf1f-20d753618586',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'TestVisibility',
      className: 'TestClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:03.624Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '01137edf-b8ec-46a1-8196-d20268402df7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å“ˆå“ˆå“ˆ',
      className: 'å“ˆå“ˆå“ˆ',
      level: 1,
      points: 200,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T15:47:57.349Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '62b956ae-2baa-465c-a3af-80fbd740b6a7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ä¸€å‡¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1005,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.176Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'cf16afa2-6d8a-41c1-9d9d-bc66d8538a96',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æµ‹è¯•å­¦ç”Ÿ',
      className: 'ä¸‰å¹´çº§ä¸‰ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:33:24.918Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    }
  ],
  pagination: { page: 1, limit: 46, total: 46, totalPages: 1 }
}
2025-12-17T14:43:48: [DEBUG] Number of students in result: 46
2025-12-17T14:43:48: [DEBUG] Students data preview: [
  {
    id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æå°çº¢',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 20,
    points: 1435,
    exp: 1958,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.691Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  },
  {
    id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'åˆ˜å°å',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 19,
    points: 1380,
    exp: 1850,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.694Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  }
]
2025-12-17T14:43:48: [DEBUG] Response sent to frontend successfully
2025-12-17T14:43:48: 2025-12-17T14:43:48.792Z - GET /avatar.jpg
2025-12-17T14:44:06: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T14:44:06: ğŸ›‘ Shutting down server...
2025-12-17T14:44:06: âœ… Database disconnected
2025-12-17T14:44:06: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T14:44:06: ğŸŒ Environment: production
2025-12-17T14:44:06: ğŸ”Œ Port: 3000
2025-12-17T14:44:06: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T14:44:06: ğŸ“ Static path exists: true
2025-12-17T14:44:06: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T14:44:06: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T14:44:06: âœ… Database connected successfully
2025-12-17T14:44:06: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T14:44:06: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T14:44:06: ğŸ”Œ WebSocket server ready
2025-12-17T14:44:06: ğŸŒ Environment: production
2025-12-17T14:46:07: 2025-12-17T14:46:07.653Z - GET /api/students
2025-12-17T14:46:07: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T14:46:07: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 449
2025-12-17T14:46:07: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T14:46:07: âœ… [AUTH_MIDDLEWARE] User authenticated: admin (ADMIN)
2025-12-17T14:46:07: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T14:46:07: Authenticated User: {
  userId: '7054e764-d83f-472e-b5c9-05d2d633bd66',
  username: 'admin',
  name: 'ç³»ç»Ÿç®¡ç†å‘˜',
  displayName: null,
  email: null,
  role: 'ADMIN',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: null
}
2025-12-17T14:46:07: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T14:46:07: Request query params: {}
2025-12-17T14:46:07: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: undefined,
  scope: undefined,
  userRole: undefined,
  requesterId: undefined
}
2025-12-17T14:46:07: [DEBUG] âŒ CRITICAL: teacherId is missing from query!
2025-12-17T14:46:07: [DEBUG] Available query params: []
2025-12-17T14:46:07: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: undefined,
  scope: undefined,
  userRole: undefined
}
2025-12-17T14:46:07: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T14:46:07: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T14:46:07: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T14:46:07: [TEACHER BINDING] âœ… Found 46 students for scope: undefined
2025-12-17T14:46:07: [DEBUG] Service returned: {
  students: [
    {
      id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æå°çº¢',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 20,
      points: 1435,
      exp: 1958,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.691Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å°å',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 19,
      points: 1380,
      exp: 1850,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.694Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '35018b04-4b1d-4a39-8411-09d55fd8aba4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èµµå°ç¾',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 950,
      exp: 1600,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.693Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '4e1ce33f-1081-4d32-98c0-b0ef2a8feccd',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¼ å°æ˜',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 3,
      points: 870,
      exp: 1205,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.689Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '3922d8e1-7631-4d76-9e77-e0cdd16fd55f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å°å¼º',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 780,
      exp: 1100,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.692Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'eddc5a62-7994-45ab-831f-7678a2e33e92',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '111',
      className: '1111',
      level: 4,
      points: 258,
      exp: 300,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:26:06.769Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '570e41be-681d-4892-bb57-d4bad7e40985',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å”è‰ºé¦¨',
      className: 'å§œè€å¸ˆç­',
      level: 2,
      points: 10310,
      exp: 199,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.151Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a0c083ed-3dbb-4b19-83e3-fe3136e56da4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®‹å­æ™¨',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1100,
      exp: 90,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.153Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '56451443-918f-4784-a759-7a010457312f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æŸæˆ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 2995,
      exp: 58,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.182Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ec2b8cff-ab40-48ce-aad6-21d58c81c980',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½•æ³½æ˜•',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 445,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.185Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'c1b7becf-7c22-4901-bf4b-dddfbe4f845c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ç ”æ›¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1880,
      exp: 50,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.167Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'fb3e1095-1edb-4b42-81b8-3d5f5744f4a8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æ­£æ¥ ',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1153,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.140Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '577a615e-0ec0-40c7-b7ea-d274fc6eb142',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é»„è¡æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1270,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.191Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '8a629a26-84df-414a-8541-6f543ae84ef2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ–¹æ™¯æ€¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3185,
      exp: 44,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.195Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '456bb6e1-6a12-40d9-978f-8dacf78508ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å´é€¸æ¡',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1279,
      exp: 37,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.148Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f3b26359-2347-44a0-a991-780c87adacbb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å½¦èˆ’',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 605,
      exp: 34,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.159Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '55978b8f-9467-48f1-8bcd-f95224e044d3',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èˆ’æ˜±æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 290,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.155Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '6fcc0c5f-912b-48e4-ba1b-c17e7f226d6a',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆé‡‘é”',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1580,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.143Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a151595d-26a6-42a4-97fc-0988220b0e65',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è°Œé›¨æ¶µ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1060,
      exp: 24,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.193Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9ebb1630-0692-4d37-81f9-01c89f1f602f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½™æ²å¦',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 3233,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.160Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '1dd13004-95e4-4643-947f-eac9e198f465',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¾æ±‡æ´‹',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 5,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'be503d07-18a9-4c5b-8836-7f6b943ae051',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆç¬‘å¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3790,
      exp: 14,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.180Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'd4d0d812-d0cf-4477-bce3-b6a8684971b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åºå­ç¥',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1310,
      exp: 7,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.162Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f35c8b56-4200-4dcf-8950-eb72832214fe',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å‡¡å…®',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 385,
      exp: 5,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.183Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '40a3cf36-1ccb-40fe-b34e-f9c49c91c6ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¶¦éœ–',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 466,
      exp: 3,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.173Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '14c6339d-7b8c-48c7-8695-f638375a6b3d',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '115',
      className: '115',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T16:35:27.558Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '8ff2199c-2c15-4d39-937a-d6b86018b1a9',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '21112',
      className: '2111',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:09:01.127Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '98aef396-f106-4627-b8a0-9a019b27e88c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33',
      className: '33',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:53.670Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '777b75ac-9cdc-4709-ac3d-c289078803d6',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '333',
      className: '222',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:58.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '33a7f6cf-d714-498d-97d3-a2c15547cce7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33ã€‘ã€‘44',
      className: '33444',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:06:08.006Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ab6b62de-5f9d-4ed9-a381-b4664c1dcbed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '55',
      className: '77',
      level: 1,
      points: 100,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:47:09.986Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9cc96732-9117-47d4-ad46-fa1a8cc7a8a2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalTestSuccess',
      className: 'FinalClassSuccess',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:31.347Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ed35b905-2274-4297-b1c2-fd505728c5b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalVerificationTest',
      className: 'VerificationClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:08:51.236Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '00752949-2494-48e7-9211-c019e4fd5db4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'Serviceä¿®å¤æµ‹è¯•',
      className: 'ä¸‰å¹´çº§äº”ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:35:10.820Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'b0f71df3-b899-4cb9-bf1f-20d753618586',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'TestVisibility',
      className: 'TestClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:03.624Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '01137edf-b8ec-46a1-8196-d20268402df7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å“ˆå“ˆå“ˆ',
      className: 'å“ˆå“ˆå“ˆ',
      level: 1,
      points: 200,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T15:47:57.349Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '62b956ae-2baa-465c-a3af-80fbd740b6a7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ä¸€å‡¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1005,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.176Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'cf16afa2-6d8a-41c1-9d9d-bc66d8538a96',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æµ‹è¯•å­¦ç”Ÿ',
      className: 'ä¸‰å¹´çº§ä¸‰ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:33:24.918Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    }
  ],
  pagination: { page: 1, limit: 46, total: 46, totalPages: 1 }
}
2025-12-17T14:46:07: [DEBUG] Number of students in result: 46
2025-12-17T14:46:07: [DEBUG] Students data preview: [
  {
    id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æå°çº¢',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 20,
    points: 1435,
    exp: 1958,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.691Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  },
  {
    id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'åˆ˜å°å',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 19,
    points: 1380,
    exp: 1850,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.694Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  }
]
2025-12-17T14:46:07: [DEBUG] Response sent to frontend successfully
2025-12-17T14:46:07: 2025-12-17T14:46:07.704Z - GET /api/students
2025-12-17T14:46:07: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T14:46:07: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 449
2025-12-17T14:46:07: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T14:46:07: âœ… [AUTH_MIDDLEWARE] User authenticated: admin (ADMIN)
2025-12-17T14:46:07: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T14:46:07: Authenticated User: {
  userId: '7054e764-d83f-472e-b5c9-05d2d633bd66',
  username: 'admin',
  name: 'ç³»ç»Ÿç®¡ç†å‘˜',
  displayName: null,
  email: null,
  role: 'ADMIN',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: null
}
2025-12-17T14:46:07: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T14:46:07: Request query params: {}
2025-12-17T14:46:07: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: undefined,
  scope: undefined,
  userRole: undefined,
  requesterId: undefined
}
2025-12-17T14:46:07: [DEBUG] âŒ CRITICAL: teacherId is missing from query!
2025-12-17T14:46:07: [DEBUG] Available query params: []
2025-12-17T14:46:07: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: undefined,
  scope: undefined,
  userRole: undefined
}
2025-12-17T14:46:07: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T14:46:07: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T14:46:07: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T14:46:07: [TEACHER BINDING] âœ… Found 46 students for scope: undefined
2025-12-17T14:46:07: [DEBUG] Service returned: {
  students: [
    {
      id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æå°çº¢',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 20,
      points: 1435,
      exp: 1958,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.691Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å°å',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 19,
      points: 1380,
      exp: 1850,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.694Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '35018b04-4b1d-4a39-8411-09d55fd8aba4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èµµå°ç¾',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 950,
      exp: 1600,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.693Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '4e1ce33f-1081-4d32-98c0-b0ef2a8feccd',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¼ å°æ˜',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 3,
      points: 870,
      exp: 1205,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.689Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '3922d8e1-7631-4d76-9e77-e0cdd16fd55f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å°å¼º',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 780,
      exp: 1100,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.692Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'eddc5a62-7994-45ab-831f-7678a2e33e92',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '111',
      className: '1111',
      level: 4,
      points: 258,
      exp: 300,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:26:06.769Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '570e41be-681d-4892-bb57-d4bad7e40985',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å”è‰ºé¦¨',
      className: 'å§œè€å¸ˆç­',
      level: 2,
      points: 10310,
      exp: 199,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.151Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a0c083ed-3dbb-4b19-83e3-fe3136e56da4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®‹å­æ™¨',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1100,
      exp: 90,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.153Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '56451443-918f-4784-a759-7a010457312f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æŸæˆ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 2995,
      exp: 58,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.182Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ec2b8cff-ab40-48ce-aad6-21d58c81c980',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½•æ³½æ˜•',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 445,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.185Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'c1b7becf-7c22-4901-bf4b-dddfbe4f845c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ç ”æ›¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1880,
      exp: 50,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.167Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'fb3e1095-1edb-4b42-81b8-3d5f5744f4a8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æ­£æ¥ ',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1153,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.140Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '577a615e-0ec0-40c7-b7ea-d274fc6eb142',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é»„è¡æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1270,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.191Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '8a629a26-84df-414a-8541-6f543ae84ef2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ–¹æ™¯æ€¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3185,
      exp: 44,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.195Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '456bb6e1-6a12-40d9-978f-8dacf78508ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å´é€¸æ¡',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1279,
      exp: 37,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.148Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f3b26359-2347-44a0-a991-780c87adacbb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å½¦èˆ’',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 605,
      exp: 34,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.159Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '55978b8f-9467-48f1-8bcd-f95224e044d3',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èˆ’æ˜±æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 290,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.155Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '6fcc0c5f-912b-48e4-ba1b-c17e7f226d6a',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆé‡‘é”',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1580,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.143Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a151595d-26a6-42a4-97fc-0988220b0e65',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è°Œé›¨æ¶µ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1060,
      exp: 24,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.193Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9ebb1630-0692-4d37-81f9-01c89f1f602f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½™æ²å¦',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 3233,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.160Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '1dd13004-95e4-4643-947f-eac9e198f465',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¾æ±‡æ´‹',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 5,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'be503d07-18a9-4c5b-8836-7f6b943ae051',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆç¬‘å¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3790,
      exp: 14,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.180Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'd4d0d812-d0cf-4477-bce3-b6a8684971b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åºå­ç¥',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1310,
      exp: 7,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.162Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f35c8b56-4200-4dcf-8950-eb72832214fe',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å‡¡å…®',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 385,
      exp: 5,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.183Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '40a3cf36-1ccb-40fe-b34e-f9c49c91c6ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¶¦éœ–',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 466,
      exp: 3,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.173Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '14c6339d-7b8c-48c7-8695-f638375a6b3d',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '115',
      className: '115',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T16:35:27.558Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '8ff2199c-2c15-4d39-937a-d6b86018b1a9',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '21112',
      className: '2111',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:09:01.127Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '98aef396-f106-4627-b8a0-9a019b27e88c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33',
      className: '33',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:53.670Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '777b75ac-9cdc-4709-ac3d-c289078803d6',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '333',
      className: '222',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:58.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '33a7f6cf-d714-498d-97d3-a2c15547cce7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33ã€‘ã€‘44',
      className: '33444',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:06:08.006Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ab6b62de-5f9d-4ed9-a381-b4664c1dcbed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '55',
      className: '77',
      level: 1,
      points: 100,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:47:09.986Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9cc96732-9117-47d4-ad46-fa1a8cc7a8a2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalTestSuccess',
      className: 'FinalClassSuccess',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:31.347Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ed35b905-2274-4297-b1c2-fd505728c5b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalVerificationTest',
      className: 'VerificationClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:08:51.236Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '00752949-2494-48e7-9211-c019e4fd5db4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'Serviceä¿®å¤æµ‹è¯•',
      className: 'ä¸‰å¹´çº§äº”ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:35:10.820Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'b0f71df3-b899-4cb9-bf1f-20d753618586',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'TestVisibility',
      className: 'TestClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:03.624Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '01137edf-b8ec-46a1-8196-d20268402df7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å“ˆå“ˆå“ˆ',
      className: 'å“ˆå“ˆå“ˆ',
      level: 1,
      points: 200,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T15:47:57.349Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '62b956ae-2baa-465c-a3af-80fbd740b6a7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ä¸€å‡¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1005,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.176Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'cf16afa2-6d8a-41c1-9d9d-bc66d8538a96',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æµ‹è¯•å­¦ç”Ÿ',
      className: 'ä¸‰å¹´çº§ä¸‰ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:33:24.918Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    }
  ],
  pagination: { page: 1, limit: 46, total: 46, totalPages: 1 }
}
2025-12-17T14:46:07: [DEBUG] Number of students in result: 46
2025-12-17T14:46:07: [DEBUG] Students data preview: [
  {
    id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æå°çº¢',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 20,
    points: 1435,
    exp: 1958,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.691Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  },
  {
    id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'åˆ˜å°å',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 19,
    points: 1380,
    exp: 1850,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.694Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  }
]
2025-12-17T14:46:07: [DEBUG] Response sent to frontend successfully
2025-12-17T14:47:39: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T14:47:39: ğŸ›‘ Shutting down server...
2025-12-17T14:47:40: âœ… Database disconnected
2025-12-17T14:47:40: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T14:47:40: ğŸŒ Environment: production
2025-12-17T14:47:40: ğŸ”Œ Port: 3000
2025-12-17T14:47:40: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T14:47:40: ğŸ“ Static path exists: true
2025-12-17T14:47:40: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T14:47:40: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T14:47:40: âœ… Database connected successfully
2025-12-17T14:47:40: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T14:47:40: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T14:47:40: ğŸ”Œ WebSocket server ready
2025-12-17T14:47:40: ğŸŒ Environment: production
2025-12-17T14:50:18: 2025-12-17T14:50:18.694Z - GET /api/students
2025-12-17T14:50:18: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T14:50:18: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 449
2025-12-17T14:50:18: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T14:50:18: âœ… [AUTH_MIDDLEWARE] User authenticated: admin (ADMIN)
2025-12-17T14:50:18: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T14:50:18: Authenticated User: {
  userId: '7054e764-d83f-472e-b5c9-05d2d633bd66',
  username: 'admin',
  name: 'ç³»ç»Ÿç®¡ç†å‘˜',
  displayName: null,
  email: null,
  role: 'ADMIN',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: null
}
2025-12-17T14:50:18: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T14:50:18: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
}
2025-12-17T14:50:18: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66',
  scope: 'MY_STUDENTS',
  userRole: undefined,
  requesterId: undefined
}
2025-12-17T14:50:18: [DEBUG] âœ… teacherId is present: 7054e764-d83f-472e-b5c9-05d2d633bd66
2025-12-17T14:50:18: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66',
  scope: 'MY_STUDENTS',
  userRole: undefined
}
2025-12-17T14:50:18: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T14:50:18: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T14:50:18: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T14:50:18: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 7054e764-d83f-472e-b5c9-05d2d633bd66
2025-12-17T14:50:18: [TEACHER BINDING] âœ… Found 38 students for scope: MY_STUDENTS
2025-12-17T14:50:18: [DEBUG] Service returned: {
  students: [
    {
      id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æå°çº¢',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 20,
      points: 1435,
      exp: 1958,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.691Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å°å',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 19,
      points: 1380,
      exp: 1850,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.694Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '35018b04-4b1d-4a39-8411-09d55fd8aba4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èµµå°ç¾',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 950,
      exp: 1600,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.693Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '4e1ce33f-1081-4d32-98c0-b0ef2a8feccd',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¼ å°æ˜',
      className: 'ä¸‰å¹´ä¸€ç­',
      level: 3,
      points: 870,
      exp: 1205,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.689Z,
      updatedAt: 2025-12-16T05:35:03.010Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '3922d8e1-7631-4d76-9e77-e0cdd16fd55f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å°å¼º',
      className: 'ä¸‰å¹´äºŒç­',
      level: 3,
      points: 780,
      exp: 1100,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-11T14:47:40.692Z,
      updatedAt: 2025-12-16T05:35:03.012Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'eddc5a62-7994-45ab-831f-7678a2e33e92',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '111',
      className: '1111',
      level: 4,
      points: 258,
      exp: 300,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:26:06.769Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '570e41be-681d-4892-bb57-d4bad7e40985',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å”è‰ºé¦¨',
      className: 'å§œè€å¸ˆç­',
      level: 2,
      points: 10310,
      exp: 199,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.151Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a0c083ed-3dbb-4b19-83e3-fe3136e56da4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®‹å­æ™¨',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1100,
      exp: 90,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.153Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '56451443-918f-4784-a759-7a010457312f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æŸæˆ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 2995,
      exp: 58,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.182Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ec2b8cff-ab40-48ce-aad6-21d58c81c980',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½•æ³½æ˜•',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 445,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.185Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'c1b7becf-7c22-4901-bf4b-dddfbe4f845c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ç ”æ›¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1880,
      exp: 50,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.167Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'fb3e1095-1edb-4b42-81b8-3d5f5744f4a8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æ­£æ¥ ',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1153,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.140Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '577a615e-0ec0-40c7-b7ea-d274fc6eb142',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é»„è¡æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1270,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.191Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '8a629a26-84df-414a-8541-6f543ae84ef2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ–¹æ™¯æ€¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3185,
      exp: 44,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.195Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '456bb6e1-6a12-40d9-978f-8dacf78508ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å´é€¸æ¡',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1279,
      exp: 37,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.148Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f3b26359-2347-44a0-a991-780c87adacbb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ç‹å½¦èˆ’',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 605,
      exp: 34,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.159Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '55978b8f-9467-48f1-8bcd-f95224e044d3',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'èˆ’æ˜±æº',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 290,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.155Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '6fcc0c5f-912b-48e4-ba1b-c17e7f226d6a',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆé‡‘é”',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1580,
      exp: 26,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.143Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'a151595d-26a6-42a4-97fc-0988220b0e65',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è°Œé›¨æ¶µ',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1060,
      exp: 24,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.193Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9ebb1630-0692-4d37-81f9-01c89f1f602f',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'ä½™æ²å¦',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 3233,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.160Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '1dd13004-95e4-4643-947f-eac9e198f465',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å¾æ±‡æ´‹',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 5,
      exp: 22,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'be503d07-18a9-4c5b-8836-7f6b943ae051',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'é™ˆç¬‘å¦',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 3790,
      exp: 14,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.180Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'd4d0d812-d0cf-4477-bce3-b6a8684971b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åºå­ç¥',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 1310,
      exp: 7,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.162Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'f35c8b56-4200-4dcf-8950-eb72832214fe',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜å‡¡å…®',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 385,
      exp: 5,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.183Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '40a3cf36-1ccb-40fe-b34e-f9c49c91c6ed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¶¦éœ–',
      className: 'é»„è€å¸ˆç­',
      level: 1,
      points: 466,
      exp: 3,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.173Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '14c6339d-7b8c-48c7-8695-f638375a6b3d',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '115',
      className: '115',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T16:35:27.558Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '8ff2199c-2c15-4d39-937a-d6b86018b1a9',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '21112',
      className: '2111',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:09:01.127Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '98aef396-f106-4627-b8a0-9a019b27e88c',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33',
      className: '33',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:53.670Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '777b75ac-9cdc-4709-ac3d-c289078803d6',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '333',
      className: '222',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:58.178Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '33a7f6cf-d714-498d-97d3-a2c15547cce7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '33ã€‘ã€‘44',
      className: '33444',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:06:08.006Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ab6b62de-5f9d-4ed9-a381-b4664c1dcbed',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: '55',
      className: '77',
      level: 1,
      points: 100,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:47:09.986Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '9cc96732-9117-47d4-ad46-fa1a8cc7a8a2',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalTestSuccess',
      className: 'FinalClassSuccess',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:02:31.347Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'ed35b905-2274-4297-b1c2-fd505728c5b7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'FinalVerificationTest',
      className: 'VerificationClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:08:51.236Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '00752949-2494-48e7-9211-c019e4fd5db4',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'Serviceä¿®å¤æµ‹è¯•',
      className: 'ä¸‰å¹´çº§äº”ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:35:10.820Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'b0f71df3-b899-4cb9-bf1f-20d753618586',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'TestVisibility',
      className: 'TestClass',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T01:05:03.624Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '01137edf-b8ec-46a1-8196-d20268402df7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å“ˆå“ˆå“ˆ',
      className: 'å“ˆå“ˆå“ˆ',
      level: 1,
      points: 200,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T15:47:57.349Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: '62b956ae-2baa-465c-a3af-80fbd740b6a7',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–ä¸€å‡¡',
      className: 'å§œè€å¸ˆç­',
      level: 1,
      points: 1005,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.176Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    },
    {
      id: 'cf16afa2-6d8a-41c1-9d9d-bc66d8538a96',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æµ‹è¯•å­¦ç”Ÿ',
      className: 'ä¸‰å¹´çº§ä¸‰ç­',
      level: 1,
      points: 0,
      exp: 0,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-12T17:33:24.918Z,
      updatedAt: 2025-12-16T05:34:23.644Z,
      teamId: null,
      teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
    }
  ],
  pagination: { page: 1, limit: 38, total: 38, totalPages: 1 }
}
2025-12-17T14:50:18: [DEBUG] Number of students in result: 38
2025-12-17T14:50:18: [DEBUG] Students data preview: [
  {
    id: 'acd9081e-fb02-4d3e-817f-914707fd7cb5',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æå°çº¢',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 20,
    points: 1435,
    exp: 1958,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.691Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  },
  {
    id: '80428dc8-3118-4a34-b9d7-976fd0d43a54',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'åˆ˜å°å',
    className: 'ä¸‰å¹´ä¸€ç­',
    level: 19,
    points: 1380,
    exp: 1850,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-11T14:47:40.694Z,
    updatedAt: 2025-12-16T05:35:03.010Z,
    teamId: null,
    teacherId: '7054e764-d83f-472e-b5c9-05d2d633bd66'
  }
]
2025-12-17T14:50:18: [DEBUG] Response sent to frontend successfully
2025-12-17T15:06:08: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T15:06:08: ğŸ›‘ Shutting down server...
2025-12-17T15:06:08: âœ… Database disconnected
2025-12-17T15:06:08: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T15:06:08: ğŸŒ Environment: production
2025-12-17T15:06:08: ğŸ”Œ Port: 3000
2025-12-17T15:06:08: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T15:06:08: ğŸ“ Static path exists: true
2025-12-17T15:06:08: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T15:06:08: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T15:06:08: âœ… Database connected successfully
2025-12-17T15:06:09: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T15:06:09: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T15:06:09: ğŸ”Œ WebSocket server ready
2025-12-17T15:06:09: ğŸŒ Environment: production
2025-12-17T15:08:43: 2025-12-17T15:08:43.671Z - GET /qc
2025-12-17T15:08:43: 2025-12-17T15:08:43.979Z - GET /assets/index-CZhIobUB.js
2025-12-17T15:08:45: 2025-12-17T15:08:45.592Z - GET /api/students
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:08:45: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:08:45: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T15:08:45: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T15:08:45: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T15:08:45: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER'
}
2025-12-17T15:08:45: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T15:08:45: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:08:45: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T15:08:45: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T15:08:45: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T15:08:45: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T15:08:45: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:08:45: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T15:08:45: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T15:08:45: [DEBUG] Number of students in result: 8
2025-12-17T15:08:45: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T15:08:45: [DEBUG] Response sent to frontend successfully
2025-12-17T15:08:45: 2025-12-17T15:08:45.641Z - GET /api/students
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:08:45: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:08:45: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T15:08:45: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T15:08:45: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T15:08:45: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER',
  className: 'é¾™è€å¸ˆçš„ç­çº§'
}
2025-12-17T15:08:45: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T15:08:45: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:08:45: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T15:08:45: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T15:08:45: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T15:08:45: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T15:08:45: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:08:45: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T15:08:45: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T15:08:45: [DEBUG] Number of students in result: 8
2025-12-17T15:08:45: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T15:08:45: [DEBUG] Response sent to frontend successfully
2025-12-17T15:08:45: 2025-12-17T15:08:45.805Z - GET /api/lms/daily-records
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:08:45: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=1896c410-1a91-4281-ac02-797756c638cc, date=2025-12-17
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T15:08:45.806Z
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 15 æ¡è®°å½•
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T15:08:45:    - ID: af3d8a20-eee4-4d59-aa58-0a2d92ec0972
2025-12-17T15:08:45:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: COMPLETED
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T15:08:45:    - ID: 0e264478-a72a-4d61-b8ea-350e06100b6d
2025-12-17T15:08:45:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: COMPLETED
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T15:08:45:    - ID: 4d7037ca-da99-4e17-9530-bed21a6c50e9
2025-12-17T15:08:45:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: COMPLETED
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T15:08:45:    - ID: fd7fc7b9-47f4-41b5-80bb-cd5a1fb91a6e
2025-12-17T15:08:45:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T15:08:45:    - ID: ec32514a-e9e5-4948-bda2-95e6a10d9fba
2025-12-17T15:08:45:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T15:08:45:    - ID: 144f50f6-f291-426d-821c-b43ea05077b6
2025-12-17T15:08:45:    - Title: åº”ç”¨é¢˜
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: COMPLETED
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T15:08:45:    - ID: c1a65ebe-9783-4ce0-a41c-db3e9c085bfd
2025-12-17T15:08:45:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T15:08:45:    - ID: c731395d-1d02-46f4-90ce-cffccd32e3b1
2025-12-17T15:08:45:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T15:08:45:    - ID: e6790efa-af10-4b34-8fbd-a9da9fa808bd
2025-12-17T15:08:45:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T15:08:45:    - ID: 1b69de17-0efc-4aad-b6be-bff99d6f3e37
2025-12-17T15:08:45:    - Title: åº”ç”¨é¢˜
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T15:08:45:    - ID: 95bd8db5-43fd-4ed4-b463-619a49092036
2025-12-17T15:08:45:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T15:08:45:    - ID: 5c839bc7-4a8d-4345-8bcf-a38269bb2ba6
2025-12-17T15:08:45:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 13:
2025-12-17T15:08:45:    - ID: a51c164f-6e3d-4293-a5ce-0349b13ffd98
2025-12-17T15:08:45:    - Title: é”™é¢˜çš„çº¢ç¬”è®¢æ­£
2025-12-17T15:08:45:    - Type: TASK
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 10
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 14:
2025-12-17T15:08:45:    - ID: ab17aae4-b029-454f-9acc-96b9e239118d
2025-12-17T15:08:45:    - Title: é”™é¢˜çš„æ‘˜æŠ„ä¸å½’å› 
2025-12-17T15:08:45:    - Type: TASK
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 10
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 15:
2025-12-17T15:08:45:    - ID: c2e36014-0f72-4609-ae81-fbf220fef870
2025-12-17T15:08:45:    - Title: 5é“æ—§é”™é¢˜çš„é‡åšç»ƒä¹ 
2025-12-17T15:08:45:    - Type: TASK
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 10
2025-12-17T15:08:45:    - Student: å®å¯æ­†
2025-12-17T15:08:45: 2025-12-17T15:08:45.877Z - GET /api/lms/daily-records
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T15:08:45: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:08:45: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=a3a72793-7c76-4f14-b18c-d786db55ff26, date=2025-12-17
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T15:08:45.878Z
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 15 æ¡è®°å½•
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T15:08:45:    - ID: 1551e1d5-3f94-4287-acc3-6bedc734decd
2025-12-17T15:08:45:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: COMPLETED
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T15:08:45:    - ID: 5db173a9-34c9-45a3-b3b5-12b113e211d7
2025-12-17T15:08:45:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T15:08:45:    - ID: 0e8b5b48-f589-436e-88e4-3ee190b58f9a
2025-12-17T15:08:45:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T15:08:45:    - ID: 13f8ff45-89eb-4551-9e24-257a19a38359
2025-12-17T15:08:45:    - Title: åº”ç”¨é¢˜
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: COMPLETED
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T15:08:45:    - ID: 80f48125-a527-43b6-82be-2fa4030f2b04
2025-12-17T15:08:45:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: COMPLETED
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T15:08:45:    - ID: b9a4dc8b-b8b1-491a-8d05-8f1c72a5bb14
2025-12-17T15:08:45:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: COMPLETED
2025-12-17T15:08:45:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:08:45:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T15:08:45:    - ID: d769cf10-3b7a-458a-ba47-d9f99245b7cd
2025-12-17T15:08:45:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T15:08:45:    - ID: 18c10498-85e0-4050-973c-1e51f88e2317
2025-12-17T15:08:45:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T15:08:45:    - ID: dbf8dcc9-93a4-4b7c-900d-a74c7bcef55e
2025-12-17T15:08:45:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T15:08:45:    - ID: 6f48e5b9-e1ce-46be-90f6-6521b0f849f4
2025-12-17T15:08:45:    - Title: åº”ç”¨é¢˜
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T15:08:45:    - ID: 60f62b33-aaed-4324-8f3b-1f1b5bbf3a43
2025-12-17T15:08:45:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T15:08:45:    - ID: 74c7823e-d04a-414e-be6d-21e649798521
2025-12-17T15:08:45:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:08:45:    - Type: QC
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 5
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 13:
2025-12-17T15:08:45:    - ID: b8ba2c80-c67c-438b-acdb-e7689a7d4171
2025-12-17T15:08:45:    - Title: 5é“æ—§é”™é¢˜çš„é‡åšç»ƒä¹ 
2025-12-17T15:08:45:    - Type: TASK
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 10
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 14:
2025-12-17T15:08:45:    - ID: 53c0bf1b-f0a0-4de8-9f1e-0dfc9c11c65c
2025-12-17T15:08:45:    - Title: é”™é¢˜çš„æ‘˜æŠ„ä¸å½’å› 
2025-12-17T15:08:45:    - Type: TASK
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 10
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:08:45: ğŸ”¥ [LMS DEBUG] è®°å½• 15:
2025-12-17T15:08:45:    - ID: f8a88de2-1f85-4918-b4bf-e0846ad9db0f
2025-12-17T15:08:45:    - Title: é”™é¢˜çš„çº¢ç¬”è®¢æ­£
2025-12-17T15:08:45:    - Type: TASK
2025-12-17T15:08:45:    - Status: PENDING
2025-12-17T15:08:45:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:08:45:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:08:45:    - Exp: 10
2025-12-17T15:08:45:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:11:51: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T15:11:51: ğŸ›‘ Shutting down server...
2025-12-17T15:11:51: âœ… Database disconnected
2025-12-17T15:11:51: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T15:11:51: ğŸŒ Environment: production
2025-12-17T15:11:51: ğŸ”Œ Port: 3000
2025-12-17T15:11:51: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T15:11:51: ğŸ“ Static path exists: true
2025-12-17T15:11:51: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T15:11:51: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T15:11:51: âœ… Database connected successfully
2025-12-17T15:11:51: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T15:11:51: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T15:11:51: ğŸ”Œ WebSocket server ready
2025-12-17T15:11:51: ğŸŒ Environment: production
2025-12-17T15:14:26: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T15:14:26: ğŸ›‘ Shutting down server...
2025-12-17T15:14:26: âœ… Database disconnected
2025-12-17T15:14:26: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T15:14:26: ğŸŒ Environment: production
2025-12-17T15:14:26: ğŸ”Œ Port: 3000
2025-12-17T15:14:26: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T15:14:26: ğŸ“ Static path exists: true
2025-12-17T15:14:26: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T15:14:26: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T15:14:26: âœ… Database connected successfully
2025-12-17T15:14:26: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T15:14:26: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T15:14:26: ğŸ”Œ WebSocket server ready
2025-12-17T15:14:26: ğŸŒ Environment: production
2025-12-17T15:17:18: 2025-12-17T15:17:18.603Z - GET /
2025-12-17T15:17:18: 2025-12-17T15:17:18.613Z - GET /assets/index-C9F24PNM.js
2025-12-17T15:17:18: 2025-12-17T15:17:18.737Z - GET /api/students/classes
2025-12-17T15:17:18: ğŸ” [AUTH_MIDDLEWARE] Processing GET /classes
2025-12-17T15:17:18: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 483
2025-12-17T15:17:18: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:17:18: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:17:18: 2025-12-17T15:17:18.788Z - GET /avatar.jpg
2025-12-17T15:19:08: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T15:19:08: ğŸ›‘ Shutting down server...
2025-12-17T15:19:08: âœ… Database disconnected
2025-12-17T15:19:08: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T15:19:08: ğŸŒ Environment: production
2025-12-17T15:19:08: ğŸ”Œ Port: 3000
2025-12-17T15:19:08: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T15:19:08: ğŸ“ Static path exists: true
2025-12-17T15:19:08: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T15:19:08: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T15:19:08: âœ… Database connected successfully
2025-12-17T15:19:08: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T15:19:08: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T15:19:08: ğŸ”Œ WebSocket server ready
2025-12-17T15:19:08: ğŸŒ Environment: production
2025-12-17T15:22:57: 2025-12-17T15:22:57.647Z - GET /assets/index-DGGpHUud.css
2025-12-17T15:22:57: 2025-12-17T15:22:57.662Z - GET /api/auth/me
2025-12-17T15:22:57: ğŸ” [AUTH_MIDDLEWARE] Processing GET /me
2025-12-17T15:22:57: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 483
2025-12-17T15:22:57: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:22:57: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:22:57: 2025-12-17T15:22:57.683Z - GET /api/students
2025-12-17T15:22:57: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T15:22:57: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 483
2025-12-17T15:22:57: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:22:57: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:22:57: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T15:22:57: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'Default Migration School',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T15:22:57: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T15:22:57: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER'
}
2025-12-17T15:22:57: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T15:22:57: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:22:57: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T15:22:57: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T15:22:57: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T15:22:57: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T15:22:57: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:22:57: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T15:22:57: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T15:22:57: [DEBUG] Number of students in result: 8
2025-12-17T15:22:57: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T15:22:57: [DEBUG] Response sent to frontend successfully
2025-12-17T15:22:57: 2025-12-17T15:22:57.728Z - GET /avatar.jpg
2025-12-17T15:37:57: 2025-12-17T15:37:57.475Z - GET /api/lms/daily-records
2025-12-17T15:37:57: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T15:37:57: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T15:37:57: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:37:57: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=a3a72793-7c76-4f14-b18c-d786db55ff26, date=2025-12-17
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T15:37:57.477Z
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 16 æ¡è®°å½•
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T15:37:57:    - ID: 0e8b5b48-f589-436e-88e4-3ee190b58f9a
2025-12-17T15:37:57:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: PENDING
2025-12-17T15:37:57:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:37:57:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T15:37:57:    - ID: 5db173a9-34c9-45a3-b3b5-12b113e211d7
2025-12-17T15:37:57:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: PENDING
2025-12-17T15:37:57:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:37:57:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T15:37:57:    - ID: 1551e1d5-3f94-4287-acc3-6bedc734decd
2025-12-17T15:37:57:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: COMPLETED
2025-12-17T15:37:57:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:37:57:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T15:37:57:    - ID: 13f8ff45-89eb-4551-9e24-257a19a38359
2025-12-17T15:37:57:    - Title: åº”ç”¨é¢˜
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: COMPLETED
2025-12-17T15:37:57:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:37:57:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T15:37:57:    - ID: 80f48125-a527-43b6-82be-2fa4030f2b04
2025-12-17T15:37:57:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: COMPLETED
2025-12-17T15:37:57:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:37:57:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T15:37:57:    - ID: b9a4dc8b-b8b1-491a-8d05-8f1c72a5bb14
2025-12-17T15:37:57:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: COMPLETED
2025-12-17T15:37:57:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:37:57:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T15:37:57:    - ID: 18c10498-85e0-4050-973c-1e51f88e2317
2025-12-17T15:37:57:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: PENDING
2025-12-17T15:37:57:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:37:57:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T15:37:57:    - ID: dbf8dcc9-93a4-4b7c-900d-a74c7bcef55e
2025-12-17T15:37:57:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: PENDING
2025-12-17T15:37:57:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:37:57:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T15:37:57:    - ID: d769cf10-3b7a-458a-ba47-d9f99245b7cd
2025-12-17T15:37:57:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: PENDING
2025-12-17T15:37:57:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:37:57:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T15:37:57:    - ID: 6f48e5b9-e1ce-46be-90f6-6521b0f849f4
2025-12-17T15:37:57:    - Title: åº”ç”¨é¢˜
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: PENDING
2025-12-17T15:37:57:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:37:57:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T15:37:57:    - ID: 60f62b33-aaed-4324-8f3b-1f1b5bbf3a43
2025-12-17T15:37:57:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: PENDING
2025-12-17T15:37:57:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:37:57:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T15:37:57:    - ID: 74c7823e-d04a-414e-be6d-21e649798521
2025-12-17T15:37:57:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:37:57:    - Type: QC
2025-12-17T15:37:57:    - Status: PENDING
2025-12-17T15:37:57:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:37:57:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:37:57:    - Exp: 5
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 13:
2025-12-17T15:37:57:    - ID: b8ba2c80-c67c-438b-acdb-e7689a7d4171
2025-12-17T15:37:57:    - Title: 5é“æ—§é”™é¢˜çš„é‡åšç»ƒä¹ 
2025-12-17T15:37:57:    - Type: TASK
2025-12-17T15:37:57:    - Status: PENDING
2025-12-17T15:37:57:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:37:57:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:37:57:    - Exp: 10
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 14:
2025-12-17T15:37:57:    - ID: f8a88de2-1f85-4918-b4bf-e0846ad9db0f
2025-12-17T15:37:57:    - Title: é”™é¢˜çš„çº¢ç¬”è®¢æ­£
2025-12-17T15:37:57:    - Type: TASK
2025-12-17T15:37:57:    - Status: PENDING
2025-12-17T15:37:57:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:37:57:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:37:57:    - Exp: 10
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 15:
2025-12-17T15:37:57:    - ID: 53c0bf1b-f0a0-4de8-9f1e-0dfc9c11c65c
2025-12-17T15:37:57:    - Title: é”™é¢˜çš„æ‘˜æŠ„ä¸å½’å› 
2025-12-17T15:37:57:    - Type: TASK
2025-12-17T15:37:57:    - Status: PENDING
2025-12-17T15:37:57:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:37:57:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:37:57:    - Exp: 10
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:37:57: ğŸ”¥ [LMS DEBUG] è®°å½• 16:
2025-12-17T15:37:57:    - ID: 51d05bb9-70ff-488b-9137-57df1aae89ee
2025-12-17T15:37:57:    - Title: ç§»å…¥ç­çº§
2025-12-17T15:37:57:    - Type: SPECIAL
2025-12-17T15:37:57:    - Status: COMPLETED
2025-12-17T15:37:57:    - Created: 2025-12-17T15:33:02.638Z
2025-12-17T15:37:57:    - Created Local: 12/17/2025, 3:33:02 PM
2025-12-17T15:37:57:    - Exp: 0
2025-12-17T15:37:57:    - Student: æ¨Šç‰§å®¸
2025-12-17T15:42:04: 2025-12-17T15:42:04.222Z - GET /api/lms/daily-records
2025-12-17T15:42:04: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T15:42:04: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 483
2025-12-17T15:42:04: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:42:04: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb, date=2025-12-17
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T15:42:04.224Z
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 12 æ¡è®°å½•
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T15:42:04:    - ID: 4b7a8e3b-5fd4-4679-97a9-a7badc30bd94
2025-12-17T15:42:04:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:04:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T15:42:04:    - ID: 77729489-a528-4bdd-879c-e3a6ab617430
2025-12-17T15:42:04:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:04:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T15:42:04:    - ID: 1af9b5d3-4c7e-4dc1-9530-aa1027fc5e76
2025-12-17T15:42:04:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:04:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T15:42:04:    - ID: 1d2bebeb-08a1-4e4d-8343-9868aace8e20
2025-12-17T15:42:04:    - Title: åº”ç”¨é¢˜
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:04:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T15:42:04:    - ID: 4dc54d41-f6c9-4da1-a290-321253c1c7b0
2025-12-17T15:42:04:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:04:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T15:42:04:    - ID: 52739d99-0e05-40d9-b5ec-4c3a596d2668
2025-12-17T15:42:04:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:04:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T15:42:04:    - ID: a6aa1997-9520-4cac-9572-112c6108f3d8
2025-12-17T15:42:04:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:42:04:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T15:42:04:    - ID: 3e015ca0-4036-47e4-991d-0f8966a65cc5
2025-12-17T15:42:04:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:42:04:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T15:42:04:    - ID: aee1f7b5-f314-4fa0-8005-c95585bdf0a3
2025-12-17T15:42:04:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:42:04:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T15:42:04:    - ID: 475d9838-cbc0-47b3-94a2-16292a319bb1
2025-12-17T15:42:04:    - Title: åº”ç”¨é¢˜
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:42:04:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T15:42:04:    - ID: 08a464c8-8c54-43a0-a042-b1f78476664b
2025-12-17T15:42:04:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:42:04:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:04: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T15:42:04:    - ID: f7de7f58-e1af-429a-87a5-40aa985ea8c9
2025-12-17T15:42:04:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:42:04:    - Type: QC
2025-12-17T15:42:04:    - Status: PENDING
2025-12-17T15:42:04:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:42:04:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:42:04:    - Exp: 5
2025-12-17T15:42:04:    - Student: æ›¾æ¬£åª›
2025-12-17T15:42:07: 2025-12-17T15:42:07.670Z - GET /api/lms/daily-records
2025-12-17T15:42:07: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T15:42:07: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 483
2025-12-17T15:42:07: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:42:07: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=bb61ac5c-9bee-4ff9-95ef-1d9e25728f76, date=2025-12-17
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T15:42:07.671Z
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 12 æ¡è®°å½•
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T15:42:07:    - ID: e03dbf8d-be1f-4fe3-831d-092125ef0bb6
2025-12-17T15:42:07:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:07:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T15:42:07:    - ID: d281f9ae-75a6-4f25-8123-15f22ec4e5ee
2025-12-17T15:42:07:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:07:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T15:42:07:    - ID: 0dfa97e6-2fa6-42e9-a237-71c30e8f08b6
2025-12-17T15:42:07:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:07:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T15:42:07:    - ID: a3c35475-a8fc-42b8-90df-04a685b50a8b
2025-12-17T15:42:07:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:07:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T15:42:07:    - ID: e5ab5e5e-618d-47d4-8004-b4367a732d14
2025-12-17T15:42:07:    - Title: åº”ç”¨é¢˜
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:07:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T15:42:07:    - ID: c389ea62-c0a8-4931-8e60-3db4d308fae5
2025-12-17T15:42:07:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:42:07:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T15:42:07:    - ID: 9859dbe0-ac34-4878-8f08-8aecfa70f8d2
2025-12-17T15:42:07:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-17T15:42:05.636Z
2025-12-17T15:42:07:    - Created Local: 12/17/2025, 3:42:05 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T15:42:07:    - ID: aff08005-4551-49e4-9caf-6e81fcfeb211
2025-12-17T15:42:07:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-17T15:42:05.636Z
2025-12-17T15:42:07:    - Created Local: 12/17/2025, 3:42:05 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T15:42:07:    - ID: 5f850a4c-d6e7-4e3f-bfae-9a577f1d355d
2025-12-17T15:42:07:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-17T15:42:05.636Z
2025-12-17T15:42:07:    - Created Local: 12/17/2025, 3:42:05 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T15:42:07:    - ID: 82ca1250-2e5d-46cf-ba6f-1ece7ea6b468
2025-12-17T15:42:07:    - Title: åº”ç”¨é¢˜
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-17T15:42:05.636Z
2025-12-17T15:42:07:    - Created Local: 12/17/2025, 3:42:05 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T15:42:07:    - ID: 7c66d6b1-3bec-4c78-ab40-36c6d4b797f5
2025-12-17T15:42:07:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-17T15:42:05.636Z
2025-12-17T15:42:07:    - Created Local: 12/17/2025, 3:42:05 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:42:07: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T15:42:07:    - ID: 1d91831f-8b51-4ffe-aaec-3d0d2a06ea22
2025-12-17T15:42:07:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:42:07:    - Type: QC
2025-12-17T15:42:07:    - Status: PENDING
2025-12-17T15:42:07:    - Created: 2025-12-17T15:42:05.636Z
2025-12-17T15:42:07:    - Created Local: 12/17/2025, 3:42:05 PM
2025-12-17T15:42:07:    - Exp: 5
2025-12-17T15:42:07:    - Student: è‚–é›¨è™¹
2025-12-17T15:47:43: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T15:47:43: ğŸ›‘ Shutting down server...
2025-12-17T15:47:43: âœ… Database disconnected
2025-12-17T15:47:43: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T15:47:43: ğŸŒ Environment: production
2025-12-17T15:47:43: ğŸ”Œ Port: 3000
2025-12-17T15:47:43: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T15:47:43: ğŸ“ Static path exists: true
2025-12-17T15:47:43: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T15:47:43: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T15:47:43: âœ… Database connected successfully
2025-12-17T15:47:43: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T15:47:43: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T15:47:43: ğŸ”Œ WebSocket server ready
2025-12-17T15:47:43: ğŸŒ Environment: production
2025-12-17T15:59:54: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T15:59:54: ğŸ›‘ Shutting down server...
2025-12-17T15:59:54: âœ… Database disconnected
2025-12-17T15:59:54: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T15:59:54: ğŸŒ Environment: production
2025-12-17T15:59:54: ğŸ”Œ Port: 3000
2025-12-17T15:59:55: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T15:59:55: ğŸ“ Static path exists: true
2025-12-17T15:59:55: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T15:59:55: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T15:59:55: âœ… Database connected successfully
2025-12-17T15:59:55: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T15:59:55: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T15:59:55: ğŸ”Œ WebSocket server ready
2025-12-17T15:59:55: ğŸŒ Environment: production
2025-12-17T16:05:41: 2025-12-17T16:05:41.198Z - GET /api/students
2025-12-17T16:05:41: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T16:05:41: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:05:41: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:05:41: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:05:41: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T16:05:41: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T16:05:41: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T16:05:41: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER',
  classRoom: 'é¾™è€å¸ˆçš„ç­çº§'
}
2025-12-17T16:05:41: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: 'é¾™è€å¸ˆçš„ç­çº§',
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T16:05:41: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:05:41: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T16:05:41: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T16:05:41: [DEBUG] ğŸ“Š TeacherId distribution: { null: 38, '5ca64703-c978-4d01-bf44-a7568f34f556': 8 }
2025-12-17T16:05:41: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T16:05:41: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:05:41: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T16:05:41: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: null,
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T15:32:53.182Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: null,
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T15:33:02.635Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: null,
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T15:33:06.985Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: null,
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T15:32:48.644Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: null,
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T15:32:43.481Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: null,
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T15:32:39.656Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: null,
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T15:32:29.198Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: null,
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T15:32:34.372Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T16:05:41: [DEBUG] Number of students in result: 8
2025-12-17T16:05:41: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: null,
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T15:32:53.182Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: null,
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T15:33:02.635Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T16:05:41: [DEBUG] Response sent to frontend successfully
2025-12-17T16:05:41: 2025-12-17T16:05:41.406Z - GET /avatar.jpg
2025-12-17T16:05:43: 2025-12-17T16:05:43.002Z - GET /api/students/1896c410-1a91-4281-ac02-797756c638cc/profile
2025-12-17T16:05:43: ğŸ” [AUTH_MIDDLEWARE] Processing GET /1896c410-1a91-4281-ac02-797756c638cc/profile
2025-12-17T16:05:43: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:05:43: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:05:43: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:05:43: ğŸ” è·å–å­¦ç”Ÿæ¡£æ¡ˆ: 1896c410-1a91-4281-ac02-797756c638cc, å­¦æ ¡: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T16:05:43: âœ… å­¦ç”Ÿæ¡£æ¡ˆè·å–æˆåŠŸ: å®å¯æ­†, åŒ…å« 12 æ¡ä»»åŠ¡è®°å½•, 0 æ¡PKè®°å½•
2025-12-17T16:05:43: 2025-12-17T16:05:43.318Z - GET /api/lms/student-progress
2025-12-17T16:05:43: ğŸ” [AUTH_MIDDLEWARE] Processing GET /student-progress
2025-12-17T16:05:43: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:05:43: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:05:43: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:06:44: 2025-12-17T16:06:44.760Z - GET /api/lms/daily-records
2025-12-17T16:06:44: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T16:06:44: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:06:44: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:06:44: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=83147758-d2d7-4541-a7c1-5892b809ccc8, date=2025-12-17
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T16:06:44.763Z
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 12 æ¡è®°å½•
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T16:06:44:    - ID: 6b44e086-d82e-4630-b484-cf9adb09b549
2025-12-17T16:06:44:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:44:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T16:06:44:    - ID: bb4f9d9d-3574-46a2-b3f5-52245a657501
2025-12-17T16:06:44:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:44:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T16:06:44:    - ID: 6d23fb28-2fcd-4b8e-a07f-7fe2bac045c5
2025-12-17T16:06:44:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:44:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T16:06:44:    - ID: fe09a4cc-cdd0-4aae-8ddb-8a821493d714
2025-12-17T16:06:44:    - Title: åº”ç”¨é¢˜
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:44:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T16:06:44:    - ID: fe01b10f-2904-4924-b9a0-538fd380fbb5
2025-12-17T16:06:44:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:44:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T16:06:44:    - ID: cabfc355-686e-403b-a128-d83434597b3e
2025-12-17T16:06:44:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:44:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T16:06:44:    - ID: 3afcaf29-d1b2-4756-8d80-bde8b8733766
2025-12-17T16:06:44:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:44:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T16:06:44:    - ID: 03d11b66-b00f-44db-9395-af8ad3816473
2025-12-17T16:06:44:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:44:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T16:06:44:    - ID: a7e7c22a-3257-4716-90df-f3af9217c07f
2025-12-17T16:06:44:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:44:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T16:06:44:    - ID: f56f012a-b98a-44ca-8cd3-a53b1527dfbe
2025-12-17T16:06:44:    - Title: åº”ç”¨é¢˜
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:44:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T16:06:44:    - ID: 7d725c4b-021e-466e-9ed6-d6416ffa31b1
2025-12-17T16:06:44:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:44:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:06:44: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T16:06:44:    - ID: 5a085dcf-0b41-49dc-a5be-44aff766e2ab
2025-12-17T16:06:44:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:06:44:    - Type: QC
2025-12-17T16:06:44:    - Status: PENDING
2025-12-17T16:06:44:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:44:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:44:    - Exp: 5
2025-12-17T16:06:44:    - Student: å½­æ–¯æ™Ÿ
2025-12-17T16:12:10: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T16:12:10: ğŸ›‘ Shutting down server...
2025-12-17T16:12:10: âœ… Database disconnected
2025-12-17T16:12:55: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T16:12:55: ğŸŒ Environment: production
2025-12-17T16:12:55: ğŸ”Œ Port: 3000
2025-12-17T16:12:55: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T16:12:55: ğŸ“ Static path exists: true
2025-12-17T16:12:55: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T16:12:55: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T16:12:55: âœ… Database connected successfully
2025-12-17T16:12:55: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T16:12:55: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T16:12:55: ğŸ”Œ WebSocket server ready
2025-12-17T16:12:55: ğŸŒ Environment: production
2025-12-17T16:15:24: 2025-12-17T16:15:24.202Z - GET /assets/index-DGGpHUud.css
2025-12-17T16:15:24: 2025-12-17T16:15:24.221Z - GET /api/auth/me
2025-12-17T16:15:24: ğŸ” [AUTH_MIDDLEWARE] Processing GET /me
2025-12-17T16:15:24: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 483
2025-12-17T16:15:24: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:15:24: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:15:24: 2025-12-17T16:15:24.229Z - GET /api/students/classes
2025-12-17T16:15:24: ğŸ” [AUTH_MIDDLEWARE] Processing GET /classes
2025-12-17T16:15:24: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 483
2025-12-17T16:15:24: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:15:24: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:19:13: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T16:19:13: ğŸ›‘ Shutting down server...
2025-12-17T16:19:13: âœ… Database disconnected
2025-12-17T16:19:13: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T16:19:13: ğŸŒ Environment: production
2025-12-17T16:19:13: ğŸ”Œ Port: 3000
2025-12-17T16:19:13: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T16:19:13: ğŸ“ Static path exists: true
2025-12-17T16:19:13: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T16:19:13: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T16:19:13: âœ… Database connected successfully
2025-12-17T16:19:13: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T16:19:13: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T16:19:13: ğŸ”Œ WebSocket server ready
2025-12-17T16:19:13: ğŸŒ Environment: production
2025-12-17T16:21:21: 2025-12-17T16:21:21.148Z - GET /api/lms/daily-records
2025-12-17T16:21:21: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T16:21:21: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:21:21: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:21:21: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=65697759-b4ba-49ae-9f18-101730f7bf47, date=2025-12-17
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T16:21:21.152Z
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 12 æ¡è®°å½•
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T16:21:21:    - ID: 6f16919c-e52c-4dad-8d6b-9715545bf257
2025-12-17T16:21:21:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T16:21:21:    - ID: 4ed60092-e532-43a3-97ce-caac940628b1
2025-12-17T16:21:21:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T16:21:21:    - ID: e1198d1d-d5d3-4d5f-88e3-f164b68bf8b0
2025-12-17T16:21:21:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T16:21:21:    - ID: 4a0e95ac-27ab-4878-a332-125ad12fa7b9
2025-12-17T16:21:21:    - Title: åº”ç”¨é¢˜
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T16:21:21:    - ID: 6382be1c-e537-468d-9b37-e6c112148d52
2025-12-17T16:21:21:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T16:21:21:    - ID: a977d6a1-bcb9-4c14-bd1d-1591e4e2980d
2025-12-17T16:21:21:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T16:21:21:    - ID: 7d4e5dcc-155a-434c-8671-a0d2be01cefc
2025-12-17T16:21:21:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T16:21:21:    - ID: 76f0f14a-3a1f-48a6-93de-667512935874
2025-12-17T16:21:21:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T16:21:21:    - ID: bb57ed58-f1b4-42f7-9ffe-e95d664413c1
2025-12-17T16:21:21:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T16:21:21:    - ID: 9bbccb31-2a66-4c50-bbed-23e60881d8ef
2025-12-17T16:21:21:    - Title: åº”ç”¨é¢˜
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T16:21:21:    - ID: 32423c94-feaf-40ef-9425-23dca1c95eaf
2025-12-17T16:21:21:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T16:21:21:    - ID: caa09b93-7f46-450e-b5d4-9c7e0ffe8380
2025-12-17T16:21:21:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: 2025-12-17T16:21:21.266Z - GET /api/lms/daily-records
2025-12-17T16:21:21: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T16:21:21: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:21:21: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:21:21: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=65697759-b4ba-49ae-9f18-101730f7bf47, date=2025-12-17
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T16:21:21.268Z
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 12 æ¡è®°å½•
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T16:21:21:    - ID: 6f16919c-e52c-4dad-8d6b-9715545bf257
2025-12-17T16:21:21:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T16:21:21:    - ID: 4ed60092-e532-43a3-97ce-caac940628b1
2025-12-17T16:21:21:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T16:21:21:    - ID: e1198d1d-d5d3-4d5f-88e3-f164b68bf8b0
2025-12-17T16:21:21:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T16:21:21:    - ID: 4a0e95ac-27ab-4878-a332-125ad12fa7b9
2025-12-17T16:21:21:    - Title: åº”ç”¨é¢˜
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T16:21:21:    - ID: 6382be1c-e537-468d-9b37-e6c112148d52
2025-12-17T16:21:21:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T16:21:21:    - ID: a977d6a1-bcb9-4c14-bd1d-1591e4e2980d
2025-12-17T16:21:21:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T16:21:21:    - ID: 7d4e5dcc-155a-434c-8671-a0d2be01cefc
2025-12-17T16:21:21:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T16:21:21:    - ID: 76f0f14a-3a1f-48a6-93de-667512935874
2025-12-17T16:21:21:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T16:21:21:    - ID: bb57ed58-f1b4-42f7-9ffe-e95d664413c1
2025-12-17T16:21:21:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T16:21:21:    - ID: 9bbccb31-2a66-4c50-bbed-23e60881d8ef
2025-12-17T16:21:21:    - Title: åº”ç”¨é¢˜
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T16:21:21:    - ID: 32423c94-feaf-40ef-9425-23dca1c95eaf
2025-12-17T16:21:21:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T16:21:21:    - ID: caa09b93-7f46-450e-b5d4-9c7e0ffe8380
2025-12-17T16:21:21:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: åˆ˜æ¢“èŒ
2025-12-17T16:21:21: 2025-12-17T16:21:21.336Z - GET /api/lms/daily-records
2025-12-17T16:21:21: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T16:21:21: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:21:21: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:21:21: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=a3a72793-7c76-4f14-b18c-d786db55ff26, date=2025-12-17
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T16:21:21.337Z
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 12 æ¡è®°å½•
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T16:21:21:    - ID: 13f8ff45-89eb-4551-9e24-257a19a38359
2025-12-17T16:21:21:    - Title: åº”ç”¨é¢˜
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: COMPLETED
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T16:21:21:    - ID: 80f48125-a527-43b6-82be-2fa4030f2b04
2025-12-17T16:21:21:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: COMPLETED
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T16:21:21:    - ID: b9a4dc8b-b8b1-491a-8d05-8f1c72a5bb14
2025-12-17T16:21:21:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: COMPLETED
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T16:21:21:    - ID: 0e8b5b48-f589-436e-88e4-3ee190b58f9a
2025-12-17T16:21:21:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T16:21:21:    - ID: 5db173a9-34c9-45a3-b3b5-12b113e211d7
2025-12-17T16:21:21:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T16:21:21:    - ID: 1551e1d5-3f94-4287-acc3-6bedc734decd
2025-12-17T16:21:21:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: COMPLETED
2025-12-17T16:21:21:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:21:21:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T16:21:21:    - ID: cf449c18-0175-4384-8bfc-b777c69acb24
2025-12-17T16:21:21:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T16:21:21:    - ID: 38e2be24-c9a8-44f1-a7e5-2b5347036222
2025-12-17T16:21:21:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T16:21:21:    - ID: 85b90d45-7cb5-4b78-992c-25da185184e4
2025-12-17T16:21:21:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T16:21:21:    - ID: 532f0e9c-6df9-40b7-93d1-181611c9d3ad
2025-12-17T16:21:21:    - Title: åº”ç”¨é¢˜
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T16:21:21:    - ID: 978b6fe7-b22f-40e6-b56b-fe9f57cd655b
2025-12-17T16:21:21:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:21:21: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T16:21:21:    - ID: f016076c-642b-46f0-99f5-a0ab8673ae37
2025-12-17T16:21:21:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:21:21:    - Type: QC
2025-12-17T16:21:21:    - Status: PENDING
2025-12-17T16:21:21:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:21:21:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:21:21:    - Exp: 5
2025-12-17T16:21:21:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:22:33: 2025-12-17T16:22:33.865Z - GET /api/lms/daily-records
2025-12-17T16:22:33: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T16:22:33: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 483
2025-12-17T16:22:33: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:22:33: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=b043aea7-874b-4505-8274-50526192fde8, date=2025-12-17
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T16:22:33.866Z
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 12 æ¡è®°å½•
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T16:22:33:    - ID: 2590639b-564b-4962-b43d-71828523a17c
2025-12-17T16:22:33:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:22:33:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T16:22:33:    - ID: ff4a54a9-5e87-4703-8712-535296575177
2025-12-17T16:22:33:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:22:33:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T16:22:33:    - ID: ae26c012-0737-4766-a345-21237850901e
2025-12-17T16:22:33:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:22:33:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T16:22:33:    - ID: e31e8163-15f9-4a65-9185-bd4c0cbc5b97
2025-12-17T16:22:33:    - Title: åº”ç”¨é¢˜
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:22:33:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T16:22:33:    - ID: 1811dd86-87e8-4280-8fed-7de41aabf640
2025-12-17T16:22:33:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:22:33:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T16:22:33:    - ID: 5bceb7d6-3b65-4287-8e53-0a8a91525b86
2025-12-17T16:22:33:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:22:33:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T16:22:33:    - ID: 53021dab-98a1-4a1e-a6e9-a0e4b4eec5e9
2025-12-17T16:22:33:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:22:33:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T16:22:33:    - ID: 3cd722d4-6df3-4203-90f6-ec2dfb262b96
2025-12-17T16:22:33:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:22:33:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T16:22:33:    - ID: 704ba20d-4aa1-43d0-8637-4873c313eb14
2025-12-17T16:22:33:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:22:33:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T16:22:33:    - ID: 1e2bd157-a069-4a07-b0f8-59ef38870779
2025-12-17T16:22:33:    - Title: åº”ç”¨é¢˜
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:22:33:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T16:22:33:    - ID: d7efa794-2189-4bb4-97a6-684135860c4a
2025-12-17T16:22:33:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:22:33:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:22:33: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T16:22:33:    - ID: 5460e0d2-3bd1-49a2-aa29-fc2f63a3ca13
2025-12-17T16:22:33:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:22:33:    - Type: QC
2025-12-17T16:22:33:    - Status: PENDING
2025-12-17T16:22:33:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:22:33:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:22:33:    - Exp: 5
2025-12-17T16:22:33:    - Student: è‚–æµ©è½©
2025-12-17T16:23:53: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T16:23:53: ğŸ›‘ Shutting down server...
2025-12-17T16:23:53: âœ… Database disconnected
2025-12-17T16:23:53: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T16:23:53: ğŸŒ Environment: production
2025-12-17T16:23:53: ğŸ”Œ Port: 3000
2025-12-17T16:23:53: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T16:23:53: ğŸ“ Static path exists: true
2025-12-17T16:23:53: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T16:23:53: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T16:23:53: âœ… Database connected successfully
2025-12-17T16:23:53: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T16:23:53: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T16:23:53: ğŸ”Œ WebSocket server ready
2025-12-17T16:23:53: ğŸŒ Environment: production
2025-12-17T16:28:21: 2025-12-17T16:28:21.001Z - GET /assets/index-DGGpHUud.css
2025-12-17T16:28:21: 2025-12-17T16:28:21.024Z - GET /api/auth/me
2025-12-17T16:28:21: ğŸ” [AUTH_MIDDLEWARE] Processing GET /me
2025-12-17T16:28:21: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:28:21: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:28:21: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:28:21: 2025-12-17T16:28:21.048Z - GET /api/students
2025-12-17T16:28:21: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T16:28:21: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:28:21: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:28:21: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:28:21: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T16:28:21: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T16:28:21: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T16:28:21: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER'
}
2025-12-17T16:28:21: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T16:28:21: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:28:21: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T16:28:21: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T16:28:21: [DEBUG] ğŸ“Š TeacherId distribution: { null: 38, '5ca64703-c978-4d01-bf44-a7568f34f556': 8 }
2025-12-17T16:28:21: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T16:28:21: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:28:21: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T16:28:21: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: null,
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T15:32:53.182Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: null,
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T15:33:02.635Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: null,
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T15:33:06.985Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: null,
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T15:32:48.644Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: null,
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T15:32:43.481Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: null,
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T15:32:39.656Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: null,
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T15:32:29.198Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: null,
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T15:32:34.372Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T16:28:21: [DEBUG] Number of students in result: 8
2025-12-17T16:28:21: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: null,
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T15:32:53.182Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: null,
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T15:33:02.635Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T16:28:21: [DEBUG] Response sent to frontend successfully
2025-12-17T16:28:21: 2025-12-17T16:28:21.089Z - GET /api/students
2025-12-17T16:28:21: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T16:28:21: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:28:21: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:28:21: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:28:21: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T16:28:21: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T16:28:21: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T16:28:21: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER'
}
2025-12-17T16:28:21: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T16:28:21: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:28:21: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T16:28:21: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T16:28:21: [DEBUG] ğŸ“Š TeacherId distribution: { null: 38, '5ca64703-c978-4d01-bf44-a7568f34f556': 8 }
2025-12-17T16:28:21: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T16:28:21: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:28:21: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T16:28:21: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: null,
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T15:32:53.182Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: null,
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T15:33:02.635Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: null,
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T15:33:06.985Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: null,
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T15:32:48.644Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: null,
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T15:32:43.481Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: null,
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T15:32:39.656Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: null,
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T15:32:29.198Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: null,
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T15:32:34.372Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T16:28:21: [DEBUG] Number of students in result: 8
2025-12-17T16:28:21: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: null,
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T15:32:53.182Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: null,
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T15:33:02.635Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T16:28:21: [DEBUG] Response sent to frontend successfully
2025-12-17T16:30:22: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T16:30:22: ğŸ›‘ Shutting down server...
2025-12-17T16:30:22: âœ… Database disconnected
2025-12-17T16:37:09: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T16:37:09: ğŸŒ Environment: development
2025-12-17T16:37:09: ğŸ”Œ Port: 3000
2025-12-17T16:37:09: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T16:37:09: ğŸ“ Static path exists: true
2025-12-17T16:37:09: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T16:37:09: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T16:37:09: âœ… Database connected successfully
2025-12-17T16:37:09: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T16:37:09: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T16:37:09: ğŸ”Œ WebSocket server ready
2025-12-17T16:37:09: ğŸŒ Environment: development
2025-12-17T16:40:25: 2025-12-17T16:40:25.824Z - GET /assets/index-DGGpHUud.css
2025-12-17T16:40:25: 2025-12-17T16:40:25.900Z - GET /api/auth/me
2025-12-17T16:40:25: ğŸ” [AUTH_MIDDLEWARE] Processing GET /me
2025-12-17T16:40:25: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:40:25: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:40:25: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:40:25: 2025-12-17T16:40:25.919Z - GET /api/students
2025-12-17T16:40:25: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T16:40:25: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:40:25: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:40:25: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:40:25: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T16:40:25: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T16:40:25: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T16:40:25: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER'
}
2025-12-17T16:40:25: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T16:40:25: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:40:25: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T16:40:25: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T16:40:25: [DEBUG] ğŸ“Š TeacherId distribution: { null: 38, '5ca64703-c978-4d01-bf44-a7568f34f556': 8 }
2025-12-17T16:40:25: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T16:40:25: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:40:25: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T16:40:25: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: null,
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T15:32:53.182Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: null,
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T15:33:02.635Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: null,
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T15:33:06.985Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: null,
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T15:32:48.644Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: null,
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T15:32:43.481Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: null,
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T15:32:39.656Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: null,
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T15:32:29.198Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: null,
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T15:32:34.372Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T16:40:25: [DEBUG] Number of students in result: 8
2025-12-17T16:40:25: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: null,
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T15:32:53.182Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: null,
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T15:33:02.635Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T16:40:25: [DEBUG] Response sent to frontend successfully
2025-12-17T16:40:25: 2025-12-17T16:40:25.965Z - GET /avatar.jpg
2025-12-17T16:55:06: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T16:55:06: ğŸ›‘ Shutting down server...
2025-12-17T16:55:06: âœ… Database disconnected
2025-12-17T18:07:01: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T18:07:01: ğŸŒ Environment: development
2025-12-17T18:07:01: ğŸ”Œ Port: 3000
2025-12-17T18:07:01: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T18:07:01: ğŸ“ Static path exists: true
2025-12-17T18:07:01: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T18:07:01: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T18:07:01: âœ… Database connected successfully
2025-12-17T18:07:01: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T18:07:01: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T18:07:01: ğŸ”Œ WebSocket server ready
2025-12-17T18:07:01: ğŸŒ Environment: development
2025-12-17T18:10:57: 2025-12-17T18:10:57.544Z - GET /assets/index-DGGpHUud.css
2025-12-17T18:10:57: 2025-12-17T18:10:57.560Z - GET /api/auth/me
2025-12-17T18:10:57: ğŸ” [AUTH_MIDDLEWARE] Processing GET /me
2025-12-17T18:10:57: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T18:10:57: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T18:10:57: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T18:10:57: 2025-12-17T18:10:57.578Z - GET /api/students
2025-12-17T18:10:57: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T18:10:57: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T18:10:57: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T18:10:57: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T18:10:57: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T18:10:57: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T18:10:57: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T18:10:57: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER'
}
2025-12-17T18:10:57: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T18:10:57: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T18:10:57: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T18:10:57: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T18:10:57: [DEBUG] ğŸ“Š TeacherId distribution: { null: 44, '5ca64703-c978-4d01-bf44-a7568f34f556': 2 }
2025-12-17T18:10:57: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T18:10:57: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T18:10:57: [TEACHER BINDING] âœ… Found 2 students for scope: MY_STUDENTS
2025-12-17T18:10:57: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: null,
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T18:00:53.524Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: null,
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T18:01:01.687Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 2, total: 2, totalPages: 1 }
}
2025-12-17T18:10:57: [DEBUG] Number of students in result: 2
2025-12-17T18:10:57: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: null,
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T18:00:53.524Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ›¾æ¬£åª›',
    className: null,
    level: 1,
    points: 202,
    exp: 70,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.163Z,
    updatedAt: 2025-12-17T18:01:01.687Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T18:10:57: [DEBUG] Response sent to frontend successfully
2025-12-17T18:10:57: 2025-12-17T18:10:57.634Z - GET /api/students
2025-12-17T18:10:57: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T18:10:57: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T18:10:57: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T18:10:57: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T18:10:57: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T18:10:57: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T18:10:57: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T18:10:57: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER'
}
2025-12-17T18:10:57: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T18:10:57: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T18:10:57: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T18:10:57: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T18:10:57: [DEBUG] ğŸ“Š TeacherId distribution: { null: 44, '5ca64703-c978-4d01-bf44-a7568f34f556': 2 }
2025-12-17T18:10:57: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T18:10:57: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T18:10:57: [TEACHER BINDING] âœ… Found 2 students for scope: MY_STUDENTS
2025-12-17T18:10:57: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: null,
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T18:00:53.524Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: null,
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T18:01:01.687Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 2, total: 2, totalPages: 1 }
}
2025-12-17T18:10:57: [DEBUG] Number of students in result: 2
2025-12-17T18:10:57: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: null,
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T18:00:53.524Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ›¾æ¬£åª›',
    className: null,
    level: 1,
    points: 202,
    exp: 70,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.163Z,
    updatedAt: 2025-12-17T18:01:01.687Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T18:10:57: [DEBUG] Response sent to frontend successfully
2025-12-17T18:14:42: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T18:14:42: ğŸ›‘ Shutting down server...
2025-12-17T18:14:42: âœ… Database disconnected
2025-12-18T05:25:14: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:25:14: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:25:14: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:25:15: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:25:15: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:25:15: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:25:16: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:25:16: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:25:16: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:25:16: ğŸš€ Starting ArkOK V2 Server...
