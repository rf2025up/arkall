# ArkOK V2 业务功能说明书 (Feature Specifications)

> **用途**：定义具体的业务功能逻辑，特别是刚刚完成的教师管理体系。

## 1. 教师管理系统 (Teacher Management)
*仅限 ADMIN (校长) 访问*

### 1.1 极简创建流程
- **入口**: "我的"页面 -> 教师管理 -> "+ 新增"。
- **字段**:
  1. **登录账号**: (必填，如 `jiang`)。
  2. **真实姓名**: (必填，如 `姜老师`)。系统自动将其设为显示名称。
  3. **绑定班级**: (必填，下拉选择)。老师登录后的默认主场。
- **默认设置**: 密码自动初始化为 `0000`。无需输入邮箱。

### 1.2 账号运维
- **列表展示**: 显示"姓名 + 登录账号 + 绑定班级"。
- **修改**: 可修改姓名和换班（绑定班级）。
- **重置密码**: 一键重置为 `0000`。
- **删除**: 彻底移除离职老师账号。

## 2. 协同作战体系 (Collaboration System)

### 2.1 智能视图切换 (Global Class Context)
- **位置**: 首页左上角（班级名称处）。
- **老师视角**:
  - 默认显示：绑定班级（高亮标记"我的主班"）。
  - 切换能力：可切换至其他班级或"全校大名单"进行协助。
- **校长视角**: 可自由切换任意视图。

### 2.2 生源流转 (Student Transfer)
- **场景**: 老师在"全校视图"或"其他班级"看到属于自己的学生。
- **操作**: 长按学生头像 -> 点击 **"移入我的班级"**。
- **结果**: 学生数据瞬间划归该老师管理，无需后台调整。

### 2.3 权限矩阵 (Permission Matrix)
| 功能点 | 校长 (ADMIN) | 老师 (TEACHER) |
| :--- | :--- | :--- |
| **新增学生** | ✅ | ✅ |
| **修改积分** | ✅ | ✅ |
| **删除学生** | ✅ (红色按钮) | ❌ (不可见) |
| **创建老师** | ✅ | ❌ |
| **发布备课** | ✅ (需选定班级) | ✅ (仅限当前视图班级) |

## 3. 学生管理功能 (Student Management)

### 3.1 基础信息管理
- **新增学生**: 支持批量导入和单个创建
- **信息编辑**: 姓名、头像、班级等基本信息
- **状态管理**: 激活/停用学生状态

### 3.2 积分与等级系统
- **积分操作**: 加分、扣分、批量调整
- **经验值系统**: 任务完成、行为表现累计经验
- **等级升级**: 自动计算等级，可视化进度条

### 3.3 学生画像
- **成长轨迹**: 积分变化、任务完成历史
- **能力雷达**: 各维度能力评估图表
- **荣誉勋章**: 获得的成就和徽章展示

## 4. 习惯养成系统 (Habit System)

### 4.1 习惯模板管理
- **模板创建**: 校长可创建全校通用的习惯模板
- **模板定制**: 老师可基于全校模板创建班级专属习惯
- **习惯分类**: 学习、生活、行为、健康等维度

### 4.2 打卡机制
- **每日打卡**: 学生按时完成习惯任务
- **连续记录**: 连续打卡天数统计
- **打卡验证**: 图片上传、文字描述、家长确认

### 4.3 激励机制
- **打卡奖励**: 积分、经验、虚拟勋章
- **连续奖励**: 连续打卡天数阶梯式奖励
- **排行榜**: 全班、全校打卡排行榜

## 5. 挑战任务系统 (Challenge System)

### 5.1 任务类型
- **日常任务**: 每日必须完成的基础任务
- **周常任务**: 每周重点培养的能力任务
- **月度任务**: 长期目标和综合素质培养
- **特殊任务**: 节日活动、竞赛等临时性任务

### 5.2 任务流程
1. **任务发布**: 老师创建并发布任务到指定班级
2. **任务执行**: 学生接收并完成任务要求
3. **成果提交**: 上传任务完成证据（图片、文字等）
4. **审核评价**: 老师审核并给出评价和奖励

### 5.3 难度与奖励
- **难度分级**: 简单、中等、困难三个级别
- **奖励体系**: 积分、经验值、特殊称号
- **成就解锁**: 完成特定任务组合解锁成就

## 6. PK对决系统 (PK Battle System)

### 6.1 对决类型
- **个人对决**: 学生之间的1v1比拼
- **小组对决**: 小组之间的团队竞赛
- **班级对决**: 不同班级之间的友好比赛

### 6.2 对决流程
1. **发起挑战**: 选择挑战对象和对决类型
2. **设定规则**: 明确对决内容、时间、奖励
3. **执行对决**: 双方在规定时间内完成挑战
4. **结果评定**: 系统自动或老师手动评定胜负

### 6.3 荣誉体系
- **战绩记录**: 历史对决成绩和胜率
- **段位系统**: 根据战绩自动评定段位
- **荣誉称号**: 各类荣誉称号和特殊标识

## 7. 勋章成就系统 (Badge System)

### 7.1 勋章类型
- **成就勋章**: 完成特定目标获得
- **行为勋章**: 体现良好行为习惯
- **技能勋章**: 掌握特定技能能力
- **荣誉勋章**: 参与特殊活动获得

### 7.2 勋章机制
- **自动颁发**: 系统根据条件自动发放
- **手动授予**: 老师根据表现授予特殊勋章
- **勋章展示**: 个人主页和班级展示墙
- **勋章加成**: 某些勋章提供特殊权限或奖励

### 7.3 成就体系
- **成就树**: 技能成长路径可视化
- **里程碑**: 关键成长节点记录
- **成就分享**: 社交分享功能

## 8. 备课管理系统 (LMS System)

### 8.1 课程资源管理
- **资源上传**: 支持多种格式（文档、图片、视频、音频）
- **资源分类**: 按学科、年级、类型分类管理
- **资源共享**: 校内教师间资源共享机制
- **版本控制**: 资源更新和版本管理

### 8.2 备课计划制定
- **模板库**: 丰富的备课模板和示例
- **智能推荐**: 基于教学内容推荐相关资源
- **协作备课**: 支持多教师协作制定备课计划
- **审核流程**: 备课内容审核和批准机制

### 8.3 发布与分发
- **定向发布**: 精确指定发布到的班级和学生
- **定时发布**: 设置内容的发布时间
- **访问控制**: 设置学生访问权限和时间
- **效果跟踪**: 发布后的使用情况统计

## 9. 数据分析与报告 (Analytics & Reports)

### 9.1 学生发展分析
- **成长曲线**: 学生各项能力发展趋势
- **对比分析**: 班级内、年级内横向对比
- **异常预警**: 学习状态异常自动预警
- **个性化建议**: 基于数据的个性化培养建议

### 9.2 班级管理报告
- **班级概况**: 班级整体发展状况
- **重点学生**: 需要特别关注的学生名单
- **教学效果**: 教学方法和内容效果评估
- **改进建议**: 班级管理和教学改进建议

### 9.3 学校管理仪表板
- **全校数据概览**: 关键指标实时监控
- **教师绩效**: 教师工作量和效果统计
- **资源使用**: 教学资源使用效率分析
- **趋势预测**: 基于历史数据的趋势分析

## 10. 家校互动功能 (Parent-School Interaction)

### 10.1 家长端访问
- **权限管理**: 精确控制家长可访问的内容
- **实时通知**: 学生表现和重要事件实时推送
- **反馈收集**: 家长意见和反馈收集
- **在线沟通**: 家长与教师在线沟通渠道

### 10.2 学生表现分享
- **成长记录**: 学生在校表现的详细记录
- **照片分享**: 学生学习和活动照片分享
- **成绩报告**: 定期成绩和能力评估报告
- **荣誉展示**: 学生获得的荣誉和成就展示

---

## 功能优先级矩阵

| 功能模块 | 重要性 | 紧急性 | 用户价值 | 技术复杂度 | 开发优先级 |
|---------|--------|--------|----------|------------|------------|
| **教师管理** | 高 | 高 | 高 | 中 | 1 |
| **学生管理** | 高 | 高 | 高 | 中 | 1 |
| **习惯养成** | 高 | 中 | 高 | 中 | 2 |
| **PK对决** | 中 | 中 | 高 | 高 | 3 |
| **勋章系统** | 中 | 低 | 中 | 中 | 4 |
| **备课管理** | 高 | 高 | 高 | 高 | 2 |
| **数据分析** | 中 | 中 | 高 | 高 | 3 |
| **家校互动** | 中 | 低 | 高 | 高 | 4 |

---

**最后更新**: 2025-12-15
**版本**: v1.0
**状态**: 已完成核心功能定义