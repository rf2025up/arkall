2025-12-17T14:42:12: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T14:42:12: ğŸŒ Environment: production
2025-12-17T14:42:12: ğŸ”Œ Port: 3000
2025-12-17T14:42:12: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T14:42:12: ğŸ“ Static path exists: true
2025-12-17T14:42:12: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T14:42:12: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T14:42:12: âœ… Database connected successfully
2025-12-17T14:42:12: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T14:42:12: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T14:42:12: ğŸ”Œ WebSocket server ready
2025-12-17T14:42:12: ğŸŒ Environment: production
2025-12-17T14:45:17: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T14:45:17: ğŸ›‘ Shutting down server...
2025-12-17T14:45:17: âœ… Database disconnected
2025-12-17T14:45:17: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T14:45:17: ğŸŒ Environment: production
2025-12-17T14:45:17: ğŸ”Œ Port: 3000
2025-12-17T14:45:17: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T14:45:17: ğŸ“ Static path exists: true
2025-12-17T14:45:17: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T14:45:17: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T14:45:17: âœ… Database connected successfully
2025-12-17T14:45:17: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T14:45:17: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T14:45:17: ğŸ”Œ WebSocket server ready
2025-12-17T14:45:17: ğŸŒ Environment: production
2025-12-17T14:48:50: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T14:48:50: ğŸ›‘ Shutting down server...
2025-12-17T14:48:50: âœ… Database disconnected
2025-12-17T14:48:51: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T14:48:51: ğŸŒ Environment: production
2025-12-17T14:48:51: ğŸ”Œ Port: 3000
2025-12-17T14:48:51: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T14:48:51: ğŸ“ Static path exists: true
2025-12-17T14:48:51: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T14:48:51: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T14:48:51: âœ… Database connected successfully
2025-12-17T14:48:51: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T14:48:51: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T14:48:51: ğŸ”Œ WebSocket server ready
2025-12-17T14:48:51: ğŸŒ Environment: production
2025-12-17T14:54:23: 2025-12-17T14:54:23.150Z - GET /habits
2025-12-17T14:54:23: 2025-12-17T14:54:23.382Z - GET /assets/index-8tFseMAn.js
2025-12-17T14:54:23: 2025-12-17T14:54:23.390Z - GET /assets/index-DGGpHUud.css
2025-12-17T14:54:23: 2025-12-17T14:54:23.876Z - GET /api/auth/me
2025-12-17T14:54:23: ğŸ” [AUTH_MIDDLEWARE] Processing GET /me
2025-12-17T14:54:23: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T14:54:23: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T14:54:23: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T14:54:25: 2025-12-17T14:54:25.439Z - GET /api/students
2025-12-17T14:54:25: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T14:54:25: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T14:54:25: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T14:54:25: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T14:54:25: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T14:54:25: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T14:54:25: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T14:54:25: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
}
2025-12-17T14:54:25: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: undefined,
  requesterId: undefined
}
2025-12-17T14:54:25: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T14:54:25: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: undefined
}
2025-12-17T14:54:25: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T14:54:25: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T14:54:25: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T14:54:25: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T14:54:25: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T14:54:25: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T14:54:25: [DEBUG] Number of students in result: 8
2025-12-17T14:54:25: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T14:54:25: [DEBUG] Response sent to frontend successfully
2025-12-17T15:07:16: 2025-12-17T15:07:16.752Z - POST /api/lms/publish
2025-12-17T15:07:16: ğŸ” [AUTH_MIDDLEWARE] Processing POST /publish
2025-12-17T15:07:16: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T15:07:16: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:07:16: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:07:16: ğŸ“š Publishing lesson plan: 12æœˆ17æ—¥ Â· æ˜ŸæœŸä¸‰ å¤‡è¯¾è®¡åˆ’ for school: 625e503b-aa7e-44fe-9982-237d828af717 (all classes)
2025-12-17T15:07:16: ğŸ” [ANTI_DUPLICATE] æ‰§è¡Œé˜²é‡æ£€æŸ¥ï¼Œæ—¶é—´èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T15:07:16: ğŸ” [LMS_SECURITY] æŸ¥è¯¢æ¡ä»¶: {
  "schoolId": "625e503b-aa7e-44fe-9982-237d828af717",
  "isActive": true,
  "teacherId": "5ca64703-c978-4d01-bf44-a7568f34f556"
}
2025-12-17T15:07:16: ğŸ‘¥ [LMS_SECURITY] Found 8 students for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:07:16: ğŸ‘¤ [LMS_SECURITY] Student: 47938c35-a307-4191-84a8-bf798d599505 (é¾™è€å¸ˆç­) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:07:16: ğŸ‘¤ [LMS_SECURITY] Student: a3a72793-7c76-4f14-b18c-d786db55ff26 (é¾™è€å¸ˆç­) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:07:16: ğŸ‘¤ [LMS_SECURITY] Student: bb61ac5c-9bee-4ff9-95ef-1d9e25728f76 (é¾™è€å¸ˆç­) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:07:16: ğŸ‘¤ [LMS_SECURITY] Student: 31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb (é¾™è€å¸ˆç­) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:07:16: ğŸ‘¤ [LMS_SECURITY] Student: 83147758-d2d7-4541-a7c1-5892b809ccc8 (é¾™è€å¸ˆç­) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:07:16: ğŸ‘¤ [LMS_SECURITY] Student: 65697759-b4ba-49ae-9f18-101730f7bf47 (é¾™è€å¸ˆç­) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:07:16: ğŸ‘¤ [LMS_SECURITY] Student: 1896c410-1a91-4281-ac02-797756c638cc (é¾™è€å¸ˆç­) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:07:16: ğŸ‘¤ [LMS_SECURITY] Student: b043aea7-874b-4505-8274-50526192fde8 (é¾™è€å¸ˆç­) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:07:16: ğŸ”„ [ANTI_DUPLICATE] å¼€å§‹æ¸…ç†å½“å¤©æ—§æ•°æ®...
2025-12-17T15:07:16: ğŸ—‘ï¸ [ANTI_DUPLICATE] åˆ é™¤äº† 1 ä¸ªæ—§æ•™å­¦è®¡åˆ’
2025-12-17T15:07:16: ğŸ—‘ï¸ [ANTI_DUPLICATE] åˆ é™¤äº† 48 ä¸ªæ—§ä»»åŠ¡è®°å½•
2025-12-17T15:07:16: âœ… Created new lesson plan: a74e239f-491d-47f3-8e54-1232e493d863 (æ›¿æ¢äº† 1 ä¸ªæ—§è®¡åˆ’)
2025-12-17T15:07:16: ğŸ“ [ANTI_DUPLICATE] å¼€å§‹ä¸º 8 ä¸ªå­¦ç”Ÿåˆ›å»ºæ–°ä»»åŠ¡è®°å½•...
2025-12-17T15:07:16: âœ… Created 72 task records
2025-12-17T15:07:16: ğŸ›¡ï¸ [ANTI_DUPLICATE] æ–°é˜²é‡é€»è¾‘å®Œæˆ: åˆ é™¤äº† 1 ä¸ªæ—§è®¡åˆ’ï¼Œ48 ä¸ªæ—§ä»»åŠ¡ï¼Œåˆ›å»ºäº† 72 ä¸ªæ–°ä»»åŠ¡
2025-12-17T15:07:16: ğŸ“¡ Broadcasted plan published event for 8 students
2025-12-17T15:07:19: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T15:07:19: ğŸ›‘ Shutting down server...
2025-12-17T15:07:19: âœ… Database disconnected
2025-12-17T15:07:19: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T15:07:19: ğŸŒ Environment: production
2025-12-17T15:07:19: ğŸ”Œ Port: 3000
2025-12-17T15:07:19: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T15:07:19: ğŸ“ Static path exists: true
2025-12-17T15:07:19: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T15:07:19: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T15:07:19: âœ… Database connected successfully
2025-12-17T15:07:19: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T15:07:19: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T15:07:19: ğŸ”Œ WebSocket server ready
2025-12-17T15:07:19: ğŸŒ Environment: production
2025-12-17T15:12:54: 2025-12-17T15:12:54.594Z - GET /assets/index-DGGpHUud.css
2025-12-17T15:12:56: 2025-12-17T15:12:56.313Z - GET /api/students
2025-12-17T15:12:56: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T15:12:56: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T15:12:56: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:12:56: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:12:56: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T15:12:56: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T15:12:56: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T15:12:56: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER'
}
2025-12-17T15:12:56: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T15:12:56: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:12:56: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T15:12:56: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T15:12:56: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T15:12:56: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T15:12:56: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:12:56: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T15:12:56: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T15:12:56: [DEBUG] Number of students in result: 8
2025-12-17T15:12:56: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T15:12:56: [DEBUG] Response sent to frontend successfully
2025-12-17T15:12:56: 2025-12-17T15:12:56.381Z - GET /api/students
2025-12-17T15:12:56: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T15:12:56: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T15:12:56: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:12:56: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:12:56: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T15:12:56: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T15:12:56: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T15:12:56: Request query params: {
  scope: 'ALL_SCHOOL',
  userRole: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717'
}
2025-12-17T15:12:56: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: undefined,
  scope: 'ALL_SCHOOL',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T15:12:56: [DEBUG] âŒ CRITICAL: teacherId is missing from query!
2025-12-17T15:12:56: [DEBUG] Available query params: [ 'scope', 'userRole', 'schoolId' ]
2025-12-17T15:12:56: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: undefined,
  scope: 'ALL_SCHOOL',
  userRole: 'TEACHER'
}
2025-12-17T15:12:56: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T15:12:56: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T15:12:56: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T15:12:56: [TEACHER BINDING] Querying ALL_SCHOOL for teacher (for transfer): undefined
2025-12-17T15:12:56: [TEACHER BINDING] âœ… Found 0 students for scope: ALL_SCHOOL
2025-12-17T15:12:56: [DEBUG] Service returned: {
  students: [],
  pagination: { page: 1, limit: 0, total: 0, totalPages: 1 }
}
2025-12-17T15:12:56: [DEBUG] Number of students in result: 0
2025-12-17T15:12:56: [DEBUG] Students data preview: []
2025-12-17T15:12:56: [DEBUG] Response sent to frontend successfully
2025-12-17T15:12:56: 2025-12-17T15:12:56.502Z - GET /avatar.jpg
2025-12-17T15:13:00: 2025-12-17T15:13:00.564Z - GET /api/students
2025-12-17T15:13:00: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T15:13:00: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T15:13:00: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:13:00: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:13:00: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T15:13:00: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T15:13:00: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T15:13:00: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER',
  classRoom: 'é¾™è€å¸ˆçš„ç­çº§'
}
2025-12-17T15:13:00: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: 'é¾™è€å¸ˆçš„ç­çº§',
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T15:13:00: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:13:00: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T15:13:00: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T15:13:00: [DEBUG] ğŸ“Š TeacherId distribution: {
  '7054e764-d83f-472e-b5c9-05d2d633bd66': 38,
  '5ca64703-c978-4d01-bf44-a7568f34f556': 8
}
2025-12-17T15:13:00: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T15:13:00: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T15:13:00: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T15:13:00: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: 'é¾™è€å¸ˆç­',
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T13:36:08.323Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T15:13:00: [DEBUG] Number of students in result: 8
2025-12-17T15:13:00: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: 'é¾™è€å¸ˆç­',
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T13:36:08.323Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T15:13:00: [DEBUG] Response sent to frontend successfully
2025-12-17T15:13:00: 2025-12-17T15:13:00.621Z - GET /avatar.jpg
2025-12-17T15:13:02: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T15:13:02: ğŸ›‘ Shutting down server...
2025-12-17T15:13:02: âœ… Database disconnected
2025-12-17T15:13:02: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T15:13:02: ğŸŒ Environment: production
2025-12-17T15:13:02: ğŸ”Œ Port: 3000
2025-12-17T15:13:02: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T15:13:02: ğŸ“ Static path exists: true
2025-12-17T15:13:02: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T15:13:02: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T15:13:02: âœ… Database connected successfully
2025-12-17T15:13:02: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T15:13:02: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T15:13:02: ğŸ”Œ WebSocket server ready
2025-12-17T15:13:02: ğŸŒ Environment: production
2025-12-17T15:15:37: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T15:15:37: ğŸ›‘ Shutting down server...
2025-12-17T15:15:37: âœ… Database disconnected
2025-12-17T15:15:37: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T15:15:37: ğŸŒ Environment: production
2025-12-17T15:15:37: ğŸ”Œ Port: 3000
2025-12-17T15:15:37: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T15:15:37: ğŸ“ Static path exists: true
2025-12-17T15:15:37: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T15:15:37: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T15:15:37: âœ… Database connected successfully
2025-12-17T15:15:37: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T15:15:37: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T15:15:37: ğŸ”Œ WebSocket server ready
2025-12-17T15:15:37: ğŸŒ Environment: production
2025-12-17T15:20:19: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T15:20:19: ğŸ›‘ Shutting down server...
2025-12-17T15:20:19: âœ… Database disconnected
2025-12-17T15:20:19: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T15:20:19: ğŸŒ Environment: production
2025-12-17T15:20:19: ğŸ”Œ Port: 3000
2025-12-17T15:20:19: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T15:20:19: ğŸ“ Static path exists: true
2025-12-17T15:20:19: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T15:20:19: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T15:20:19: âœ… Database connected successfully
2025-12-17T15:20:19: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T15:20:19: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T15:20:19: ğŸ”Œ WebSocket server ready
2025-12-17T15:20:19: ğŸŒ Environment: production
2025-12-17T15:33:28: 2025-12-17T15:33:28.680Z - GET /api/lms/daily-records
2025-12-17T15:33:28: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T15:33:28: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T15:33:28: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:33:28: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb, date=2025-12-17
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T15:33:28.686Z
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 16 æ¡è®°å½•
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T15:33:28:    - ID: 1d2bebeb-08a1-4e4d-8343-9868aace8e20
2025-12-17T15:33:28:    - Title: åº”ç”¨é¢˜
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:33:28:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T15:33:28:    - ID: 4dc54d41-f6c9-4da1-a290-321253c1c7b0
2025-12-17T15:33:28:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:33:28:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T15:33:28:    - ID: 52739d99-0e05-40d9-b5ec-4c3a596d2668
2025-12-17T15:33:28:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:33:28:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T15:33:28:    - ID: 4b7a8e3b-5fd4-4679-97a9-a7badc30bd94
2025-12-17T15:33:28:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:33:28:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T15:33:28:    - ID: 77729489-a528-4bdd-879c-e3a6ab617430
2025-12-17T15:33:28:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:33:28:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T15:33:28:    - ID: 1af9b5d3-4c7e-4dc1-9530-aa1027fc5e76
2025-12-17T15:33:28:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:33:28:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T15:33:28:    - ID: ab1f441f-d0c5-4eac-b6f2-8377c162e00e
2025-12-17T15:33:28:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:33:28:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T15:33:28:    - ID: 02a9c545-7ad1-43c9-879c-fba09c79e0ea
2025-12-17T15:33:28:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:33:28:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T15:33:28:    - ID: ed72865c-5ca4-45e7-9a18-84ebb818ade5
2025-12-17T15:33:28:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:33:28:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T15:33:28:    - ID: e22c5633-efae-4aee-abdc-a2ad1da1aad5
2025-12-17T15:33:28:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:33:28:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T15:33:28:    - ID: 6a391263-dce4-4d8e-9bb9-8c43fc8b15ea
2025-12-17T15:33:28:    - Title: åº”ç”¨é¢˜
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:33:28:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T15:33:28:    - ID: 245be593-d6af-44a8-b8ec-045d99036486
2025-12-17T15:33:28:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:33:28:    - Type: QC
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:33:28:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:33:28:    - Exp: 5
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 13:
2025-12-17T15:33:28:    - ID: 298efad7-80b9-4253-a438-4c593744da0f
2025-12-17T15:33:28:    - Title: é”™é¢˜çš„æ‘˜æŠ„ä¸å½’å› 
2025-12-17T15:33:28:    - Type: TASK
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:33:28:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:33:28:    - Exp: 10
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 14:
2025-12-17T15:33:28:    - ID: e183e327-ce61-40f8-b7bd-0623ecad67c1
2025-12-17T15:33:28:    - Title: é”™é¢˜çš„çº¢ç¬”è®¢æ­£
2025-12-17T15:33:28:    - Type: TASK
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:33:28:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:33:28:    - Exp: 10
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 15:
2025-12-17T15:33:28:    - ID: c81f4e49-3987-48f1-b492-8ff40a2fd6c1
2025-12-17T15:33:28:    - Title: 5é“æ—§é”™é¢˜çš„é‡åšç»ƒä¹ 
2025-12-17T15:33:28:    - Type: TASK
2025-12-17T15:33:28:    - Status: PENDING
2025-12-17T15:33:28:    - Created: 2025-12-17T15:07:16.796Z
2025-12-17T15:33:28:    - Created Local: 12/17/2025, 3:07:16 PM
2025-12-17T15:33:28:    - Exp: 10
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: ğŸ”¥ [LMS DEBUG] è®°å½• 16:
2025-12-17T15:33:28:    - ID: 3fd199f7-da66-4da8-b2e1-bd209f296485
2025-12-17T15:33:28:    - Title: ç§»å…¥ç­çº§
2025-12-17T15:33:28:    - Type: SPECIAL
2025-12-17T15:33:28:    - Status: COMPLETED
2025-12-17T15:33:28:    - Created: 2025-12-17T15:33:06.986Z
2025-12-17T15:33:28:    - Created Local: 12/17/2025, 3:33:06 PM
2025-12-17T15:33:28:    - Exp: 0
2025-12-17T15:33:28:    - Student: æ›¾æ¬£åª›
2025-12-17T15:33:28: 2025-12-17T15:33:28.842Z - GET /avatar.jpg
2025-12-17T15:33:29: 2025-12-17T15:33:29.851Z - GET /avatar.jpg
2025-12-17T15:39:59: 2025-12-17T15:39:59.396Z - GET /api/lms/daily-records
2025-12-17T15:39:59: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T15:39:59: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T15:39:59: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T15:39:59: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=47938c35-a307-4191-84a8-bf798d599505, date=2025-12-17
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T15:39:59.398Z
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 12 æ¡è®°å½•
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T15:39:59:    - ID: cbe36e51-b656-4fc1-aa67-93a594b93f5b
2025-12-17T15:39:59:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: COMPLETED
2025-12-17T15:39:59:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:39:59:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T15:39:59:    - ID: 735d4ade-8f20-4cec-9204-06d5f43ca887
2025-12-17T15:39:59:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: COMPLETED
2025-12-17T15:39:59:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:39:59:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T15:39:59:    - ID: cc790862-d856-4300-822a-6e02cc3d650f
2025-12-17T15:39:59:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: PENDING
2025-12-17T15:39:59:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:39:59:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T15:39:59:    - ID: b86265c1-0d62-45f8-9603-b7ea63bcf860
2025-12-17T15:39:59:    - Title: åº”ç”¨é¢˜
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: PENDING
2025-12-17T15:39:59:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:39:59:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T15:39:59:    - ID: ca56c496-acd5-4cfe-8141-c57e3c02e40a
2025-12-17T15:39:59:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: PENDING
2025-12-17T15:39:59:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:39:59:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T15:39:59:    - ID: a235ce13-1a69-4fb6-9f8d-c724cd7fa94a
2025-12-17T15:39:59:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: COMPLETED
2025-12-17T15:39:59:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T15:39:59:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T15:39:59:    - ID: 3b52b7da-7c4f-4e70-8dfa-d50cf25e937c
2025-12-17T15:39:59:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: PENDING
2025-12-17T15:39:59:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:39:59:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T15:39:59:    - ID: c49e8179-c0b9-4a23-8ecb-e1d7a326fb27
2025-12-17T15:39:59:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: PENDING
2025-12-17T15:39:59:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:39:59:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T15:39:59:    - ID: 4ba843c2-fcbf-453a-b157-dd3382e8b0ab
2025-12-17T15:39:59:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: PENDING
2025-12-17T15:39:59:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:39:59:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T15:39:59:    - ID: 20af046b-7f4c-48e6-830c-1b0e0d7ea2d1
2025-12-17T15:39:59:    - Title: åº”ç”¨é¢˜
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: PENDING
2025-12-17T15:39:59:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:39:59:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T15:39:59:    - ID: a4d41aaf-d2c1-459e-aa1a-14bcaf4d7d81
2025-12-17T15:39:59:    - Title: å•è¯èƒŒè¯µ
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: PENDING
2025-12-17T15:39:59:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:39:59:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:39:59: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T15:39:59:    - ID: a502f7a3-7386-4f5e-bf24-69fdab30cc21
2025-12-17T15:39:59:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T15:39:59:    - Type: QC
2025-12-17T15:39:59:    - Status: PENDING
2025-12-17T15:39:59:    - Created: 2025-12-17T15:39:56.139Z
2025-12-17T15:39:59:    - Created Local: 12/17/2025, 3:39:56 PM
2025-12-17T15:39:59:    - Exp: 5
2025-12-17T15:39:59:    - Student: å»–æ½‡ç„¶
2025-12-17T15:48:54: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T15:48:54: ğŸ›‘ Shutting down server...
2025-12-17T15:48:54: âœ… Database disconnected
2025-12-17T15:48:54: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T15:48:54: ğŸŒ Environment: production
2025-12-17T15:48:54: ğŸ”Œ Port: 3000
2025-12-17T15:48:54: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T15:48:54: ğŸ“ Static path exists: true
2025-12-17T15:48:54: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T15:48:54: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T15:48:54: âœ… Database connected successfully
2025-12-17T15:48:54: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T15:48:54: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T15:48:54: ğŸ”Œ WebSocket server ready
2025-12-17T15:48:54: ğŸŒ Environment: production
2025-12-17T16:01:05: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T16:01:05: ğŸ›‘ Shutting down server...
2025-12-17T16:01:05: âœ… Database disconnected
2025-12-17T16:01:05: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T16:01:05: ğŸŒ Environment: production
2025-12-17T16:01:05: ğŸ”Œ Port: 3000
2025-12-17T16:01:05: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T16:01:05: ğŸ“ Static path exists: true
2025-12-17T16:01:05: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T16:01:05: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T16:01:06: âœ… Database connected successfully
2025-12-17T16:01:06: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T16:01:06: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T16:01:06: ğŸ”Œ WebSocket server ready
2025-12-17T16:01:06: ğŸŒ Environment: production
2025-12-17T16:06:34: 2025-12-17T16:06:34.092Z - POST /api/lms/publish
2025-12-17T16:06:34: ğŸ” [AUTH_MIDDLEWARE] Processing POST /publish
2025-12-17T16:06:34: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:06:34: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:06:34: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:06:34: ğŸ“š Publishing lesson plan: 12æœˆ18æ—¥ Â· æ˜ŸæœŸå›› å¤‡è¯¾è®¡åˆ’ for school: 625e503b-aa7e-44fe-9982-237d828af717 (all classes)
2025-12-17T16:06:34: ğŸ” [ANTI_DUPLICATE] æ‰§è¡Œé˜²é‡æ£€æŸ¥ï¼Œæ—¶é—´èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T16:06:34: ğŸ” [LMS_SECURITY] æŸ¥è¯¢æ¡ä»¶: {
  "schoolId": "625e503b-aa7e-44fe-9982-237d828af717",
  "isActive": true,
  "teacherId": "5ca64703-c978-4d01-bf44-a7568f34f556"
}
2025-12-17T16:06:34: ğŸ‘¥ [LMS_SECURITY] Found 8 students for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:06:34: ğŸ‘¤ [LMS_SECURITY] Student: 47938c35-a307-4191-84a8-bf798d599505 (null) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:06:34: ğŸ‘¤ [LMS_SECURITY] Student: b043aea7-874b-4505-8274-50526192fde8 (null) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:06:34: ğŸ‘¤ [LMS_SECURITY] Student: bb61ac5c-9bee-4ff9-95ef-1d9e25728f76 (null) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:06:34: ğŸ‘¤ [LMS_SECURITY] Student: 83147758-d2d7-4541-a7c1-5892b809ccc8 (null) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:06:34: ğŸ‘¤ [LMS_SECURITY] Student: 65697759-b4ba-49ae-9f18-101730f7bf47 (null) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:06:34: ğŸ‘¤ [LMS_SECURITY] Student: 1896c410-1a91-4281-ac02-797756c638cc (null) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:06:34: ğŸ‘¤ [LMS_SECURITY] Student: a3a72793-7c76-4f14-b18c-d786db55ff26 (null) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:06:34: ğŸ‘¤ [LMS_SECURITY] Student: 31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb (null) - teacherId: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:06:34: ğŸ”„ [ANTI_DUPLICATE] å¼€å§‹æ¸…ç†å½“å¤©æ—§æ•°æ®...
2025-12-17T16:06:34: ğŸ—‘ï¸ [ANTI_DUPLICATE] åˆ é™¤äº† 1 ä¸ªæ—§æ•™å­¦è®¡åˆ’
2025-12-17T16:06:34: ğŸ—‘ï¸ [ANTI_DUPLICATE] åˆ é™¤äº† 48 ä¸ªæ—§ä»»åŠ¡è®°å½•
2025-12-17T16:06:34: âœ… Created new lesson plan: 340fc824-b6b1-4d0a-a024-4146d8729c05 (æ›¿æ¢äº† 1 ä¸ªæ—§è®¡åˆ’)
2025-12-17T16:06:34: ğŸ“ [ANTI_DUPLICATE] å¼€å§‹ä¸º 8 ä¸ªå­¦ç”Ÿåˆ›å»ºæ–°ä»»åŠ¡è®°å½•...
2025-12-17T16:06:34: âœ… Created 48 task records
2025-12-17T16:06:34: ğŸ›¡ï¸ [ANTI_DUPLICATE] æ–°é˜²é‡é€»è¾‘å®Œæˆ: åˆ é™¤äº† 1 ä¸ªæ—§è®¡åˆ’ï¼Œ48 ä¸ªæ—§ä»»åŠ¡ï¼Œåˆ›å»ºäº† 48 ä¸ªæ–°ä»»åŠ¡
2025-12-17T16:06:34: ğŸ“¡ Broadcasted plan published event for 8 students
2025-12-17T16:06:37: 2025-12-17T16:06:37.163Z - GET /api/students
2025-12-17T16:06:37: ğŸ” [AUTH_MIDDLEWARE] Processing GET /
2025-12-17T16:06:37: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:06:37: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:06:37: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:06:37: --- [DEBUG] GET /api/students endpoint hit ---
2025-12-17T16:06:37: Authenticated User: {
  userId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  username: 'long',
  name: 'é¾™è€å¸ˆ',
  displayName: 'é¾™è€å¸ˆ',
  email: null,
  role: 'TEACHER',
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  schoolName: 'æ˜Ÿé€”ä¸ä¼´',
  primaryClassName: 'å…­å¹´çº§1ç­'
}
2025-12-17T16:06:37: School ID from user: 625e503b-aa7e-44fe-9982-237d828af717
2025-12-17T16:06:37: Request query params: {
  scope: 'MY_STUDENTS',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  userRole: 'TEACHER',
  className: 'é¾™è€å¸ˆçš„ç­çº§'
}
2025-12-17T16:06:37: [DEBUG] Query object sent to service: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  classRoom: undefined,
  search: undefined,
  page: undefined,
  limit: undefined,
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER',
  requesterId: undefined
}
2025-12-17T16:06:37: [DEBUG] âœ… teacherId is present: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:06:37: [TEACHER BINDING] Fetching students with query: {
  schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
  teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556',
  scope: 'MY_STUDENTS',
  userRole: 'TEACHER'
}
2025-12-17T16:06:37: [DEBUG] ğŸ” Checking teacherId distribution before query...
2025-12-17T16:06:37: [DEBUG] ğŸ“Š TeacherId distribution: { null: 38, '5ca64703-c978-4d01-bf44-a7568f34f556': 8 }
2025-12-17T16:06:37: [DEBUG] ğŸ“Š Total students in DB: 46
2025-12-17T16:06:37: [TEACHER BINDING] Querying MY_STUDENTS for teacher: 5ca64703-c978-4d01-bf44-a7568f34f556
2025-12-17T16:06:37: [TEACHER BINDING] âœ… Found 8 students for scope: MY_STUDENTS
2025-12-17T16:06:37: [DEBUG] Service returned: {
  students: [
    {
      id: '1896c410-1a91-4281-ac02-797756c638cc',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å®å¯æ­†',
      className: null,
      level: 1,
      points: 6632,
      exp: 87,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.188Z,
      updatedAt: 2025-12-17T15:32:53.182Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ¨Šç‰§å®¸',
      className: null,
      level: 1,
      points: 219,
      exp: 78,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.157Z,
      updatedAt: 2025-12-17T15:33:02.635Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '31895b6e-8fb0-4eb8-838c-3c0d3d71bbcb',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'æ›¾æ¬£åª›',
      className: null,
      level: 1,
      points: 202,
      exp: 70,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.163Z,
      updatedAt: 2025-12-17T15:33:06.985Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '65697759-b4ba-49ae-9f18-101730f7bf47',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'åˆ˜æ¢“èŒ',
      className: null,
      level: 1,
      points: 671,
      exp: 51,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.175Z,
      updatedAt: 2025-12-17T15:32:48.644Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '83147758-d2d7-4541-a7c1-5892b809ccc8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å½­æ–¯æ™Ÿ',
      className: null,
      level: 1,
      points: 553,
      exp: 47,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.165Z,
      updatedAt: 2025-12-17T15:32:43.481Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'bb61ac5c-9bee-4ff9-95ef-1d9e25728f76',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–é›¨è™¹',
      className: null,
      level: 1,
      points: 1496,
      exp: 46,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.146Z,
      updatedAt: 2025-12-17T15:32:39.656Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: '47938c35-a307-4191-84a8-bf798d599505',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'å»–æ½‡ç„¶',
      className: null,
      level: 1,
      points: 1201,
      exp: 40,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.150Z,
      updatedAt: 2025-12-17T15:32:29.198Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    },
    {
      id: 'b043aea7-874b-4505-8274-50526192fde8',
      schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
      name: 'è‚–æµ©è½©',
      className: null,
      level: 1,
      points: 148,
      exp: 33,
      avatarUrl: null,
      isActive: true,
      createdAt: 2025-12-13T00:38:55.189Z,
      updatedAt: 2025-12-17T15:32:34.372Z,
      teamId: null,
      teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
    }
  ],
  pagination: { page: 1, limit: 8, total: 8, totalPages: 1 }
}
2025-12-17T16:06:37: [DEBUG] Number of students in result: 8
2025-12-17T16:06:37: [DEBUG] Students data preview: [
  {
    id: '1896c410-1a91-4281-ac02-797756c638cc',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'å®å¯æ­†',
    className: null,
    level: 1,
    points: 6632,
    exp: 87,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.188Z,
    updatedAt: 2025-12-17T15:32:53.182Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  },
  {
    id: 'a3a72793-7c76-4f14-b18c-d786db55ff26',
    schoolId: '625e503b-aa7e-44fe-9982-237d828af717',
    name: 'æ¨Šç‰§å®¸',
    className: null,
    level: 1,
    points: 219,
    exp: 78,
    avatarUrl: null,
    isActive: true,
    createdAt: 2025-12-13T00:38:55.157Z,
    updatedAt: 2025-12-17T15:33:02.635Z,
    teamId: null,
    teacherId: '5ca64703-c978-4d01-bf44-a7568f34f556'
  }
]
2025-12-17T16:06:37: [DEBUG] Response sent to frontend successfully
2025-12-17T16:06:37: 2025-12-17T16:06:37.350Z - GET /api/lms/daily-records
2025-12-17T16:06:37: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T16:06:37: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:06:37: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:06:37: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=a3a72793-7c76-4f14-b18c-d786db55ff26, date=2025-12-17
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T16:06:37.352Z
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 12 æ¡è®°å½•
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T16:06:37:    - ID: 13f8ff45-89eb-4551-9e24-257a19a38359
2025-12-17T16:06:37:    - Title: åº”ç”¨é¢˜
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: COMPLETED
2025-12-17T16:06:37:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:37:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T16:06:37:    - ID: 80f48125-a527-43b6-82be-2fa4030f2b04
2025-12-17T16:06:37:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: COMPLETED
2025-12-17T16:06:37:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:37:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T16:06:37:    - ID: b9a4dc8b-b8b1-491a-8d05-8f1c72a5bb14
2025-12-17T16:06:37:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: COMPLETED
2025-12-17T16:06:37:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:37:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T16:06:37:    - ID: 0e8b5b48-f589-436e-88e4-3ee190b58f9a
2025-12-17T16:06:37:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: PENDING
2025-12-17T16:06:37:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:37:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T16:06:37:    - ID: 5db173a9-34c9-45a3-b3b5-12b113e211d7
2025-12-17T16:06:37:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: PENDING
2025-12-17T16:06:37:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:37:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T16:06:37:    - ID: 1551e1d5-3f94-4287-acc3-6bedc734decd
2025-12-17T16:06:37:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: COMPLETED
2025-12-17T16:06:37:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:06:37:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T16:06:37:    - ID: cf449c18-0175-4384-8bfc-b777c69acb24
2025-12-17T16:06:37:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: PENDING
2025-12-17T16:06:37:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:37:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T16:06:37:    - ID: 38e2be24-c9a8-44f1-a7e5-2b5347036222
2025-12-17T16:06:37:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: PENDING
2025-12-17T16:06:37:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:37:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T16:06:37:    - ID: 85b90d45-7cb5-4b78-992c-25da185184e4
2025-12-17T16:06:37:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: PENDING
2025-12-17T16:06:37:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:37:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T16:06:37:    - ID: 532f0e9c-6df9-40b7-93d1-181611c9d3ad
2025-12-17T16:06:37:    - Title: åº”ç”¨é¢˜
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: PENDING
2025-12-17T16:06:37:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:37:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T16:06:37:    - ID: 978b6fe7-b22f-40e6-b56b-fe9f57cd655b
2025-12-17T16:06:37:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: PENDING
2025-12-17T16:06:37:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:37:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:06:37: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T16:06:37:    - ID: f016076c-642b-46f0-99f5-a0ab8673ae37
2025-12-17T16:06:37:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:06:37:    - Type: QC
2025-12-17T16:06:37:    - Status: PENDING
2025-12-17T16:06:37:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:06:37:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:06:37:    - Exp: 5
2025-12-17T16:06:37:    - Student: æ¨Šç‰§å®¸
2025-12-17T16:09:53: 2025-12-17T16:09:53.606Z - GET /assets/index-DGGpHUud.css
2025-12-17T16:09:53: 2025-12-17T16:09:53.627Z - GET /api/auth/me
2025-12-17T16:09:53: ğŸ” [AUTH_MIDDLEWARE] Processing GET /me
2025-12-17T16:09:53: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 483
2025-12-17T16:09:53: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:09:53: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:09:53: 2025-12-17T16:09:53.632Z - GET /api/students/classes
2025-12-17T16:09:53: ğŸ” [AUTH_MIDDLEWARE] Processing GET /classes
2025-12-17T16:09:53: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 483
2025-12-17T16:09:53: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:09:53: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:12:11: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T16:12:11: ğŸ›‘ Shutting down server...
2025-12-17T16:12:11: âœ… Database disconnected
2025-12-17T16:14:05: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T16:14:05: ğŸŒ Environment: production
2025-12-17T16:14:05: ğŸ”Œ Port: 3000
2025-12-17T16:14:05: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T16:14:05: ğŸ“ Static path exists: true
2025-12-17T16:14:05: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T16:14:05: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T16:14:05: âœ… Database connected successfully
2025-12-17T16:14:05: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T16:14:05: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T16:14:05: ğŸ”Œ WebSocket server ready
2025-12-17T16:14:05: ğŸŒ Environment: production
2025-12-17T16:20:24: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T16:20:24: ğŸ›‘ Shutting down server...
2025-12-17T16:20:24: âœ… Database disconnected
2025-12-17T16:20:24: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T16:20:24: ğŸŒ Environment: production
2025-12-17T16:20:24: ğŸ”Œ Port: 3000
2025-12-17T16:20:24: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T16:20:24: ğŸ“ Static path exists: true
2025-12-17T16:20:24: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T16:20:24: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T16:20:24: âœ… Database connected successfully
2025-12-17T16:20:24: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T16:20:24: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T16:20:24: ğŸ”Œ WebSocket server ready
2025-12-17T16:20:24: ğŸŒ Environment: production
2025-12-17T16:22:13: 2025-12-17T16:22:13.713Z - PATCH /api/records/96dc65dd-7b53-476f-a82d-6f493ce108a0/attempt
2025-12-17T16:22:14: 2025-12-17T16:22:14.254Z - PATCH /api/records/96dc65dd-7b53-476f-a82d-6f493ce108a0/attempt
2025-12-17T16:22:14: 2025-12-17T16:22:14.623Z - PATCH /api/records/96dc65dd-7b53-476f-a82d-6f493ce108a0/attempt
2025-12-17T16:23:58: 2025-12-17T16:23:58.219Z - GET /api/lms/daily-records
2025-12-17T16:23:58: ğŸ” [AUTH_MIDDLEWARE] Processing GET /daily-records
2025-12-17T16:23:58: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 483
2025-12-17T16:23:58: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:23:58: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] ===== getDailyRecords è°ƒç”¨å¼€å§‹ =====
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] ä¼ å…¥å‚æ•°: schoolId=625e503b-aa7e-44fe-9982-237d828af717, studentId=b043aea7-874b-4505-8274-50526192fde8, date=2025-12-17
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] åŸå§‹æŸ¥è¯¢èŒƒå›´: 2025-12-17T00:00:00.000Z - 2025-12-17T23:59:59.999Z
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] æ‰©å±•æŸ¥è¯¢èŒƒå›´: 2025-12-16T00:00:00.000Z - 2025-12-18T23:59:59.999Z
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] æœåŠ¡å™¨å½“å‰æ—¶é—´: 2025-12-17T16:23:58.224Z
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] æŸ¥è¯¢ç»“æœ: æ‰¾åˆ° 12 æ¡è®°å½•
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] ===== è®°å½•è¯¦æƒ… =====
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 1:
2025-12-17T16:23:58:    - ID: 2590639b-564b-4962-b43d-71828523a17c
2025-12-17T16:23:58:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:23:58:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 2:
2025-12-17T16:23:58:    - ID: ff4a54a9-5e87-4703-8712-535296575177
2025-12-17T16:23:58:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:23:58:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 3:
2025-12-17T16:23:58:    - ID: ae26c012-0737-4766-a345-21237850901e
2025-12-17T16:23:58:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:23:58:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 4:
2025-12-17T16:23:58:    - ID: e31e8163-15f9-4a65-9185-bd4c0cbc5b97
2025-12-17T16:23:58:    - Title: åº”ç”¨é¢˜
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:23:58:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 5:
2025-12-17T16:23:58:    - ID: 1811dd86-87e8-4280-8fed-7de41aabf640
2025-12-17T16:23:58:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:23:58:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 6:
2025-12-17T16:23:58:    - ID: 5bceb7d6-3b65-4287-8e53-0a8a91525b86
2025-12-17T16:23:58:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-16T15:33:37.761Z
2025-12-17T16:23:58:    - Created Local: 12/16/2025, 3:33:37 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 7:
2025-12-17T16:23:58:    - ID: 53021dab-98a1-4a1e-a6e9-a0e4b4eec5e9
2025-12-17T16:23:58:    - Title: å¤è¯—èƒŒè¯µ
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:23:58:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 8:
2025-12-17T16:23:58:    - ID: 3cd722d4-6df3-4203-90f6-ec2dfb262b96
2025-12-17T16:23:58:    - Title: ç”Ÿå­—å¬å†™
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:23:58:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 9:
2025-12-17T16:23:58:    - ID: 704ba20d-4aa1-43d0-8637-4873c313eb14
2025-12-17T16:23:58:    - Title: å£ç®—ç»ƒä¹ 
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:23:58:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 10:
2025-12-17T16:23:58:    - ID: 1e2bd157-a069-4a07-b0f8-59ef38870779
2025-12-17T16:23:58:    - Title: åº”ç”¨é¢˜
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:23:58:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 11:
2025-12-17T16:23:58:    - ID: d7efa794-2189-4bb4-97a6-684135860c4a
2025-12-17T16:23:58:    - Title: å•è¯èƒŒè¯µ
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:23:58:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:23:58: ğŸ”¥ [LMS DEBUG] è®°å½• 12:
2025-12-17T16:23:58:    - ID: 5460e0d2-3bd1-49a2-aa29-fc2f63a3ca13
2025-12-17T16:23:58:    - Title: å¥å‹ç»ƒä¹ 
2025-12-17T16:23:58:    - Type: QC
2025-12-17T16:23:58:    - Status: PENDING
2025-12-17T16:23:58:    - Created: 2025-12-17T16:06:34.137Z
2025-12-17T16:23:58:    - Created Local: 12/17/2025, 4:06:34 PM
2025-12-17T16:23:58:    - Exp: 5
2025-12-17T16:23:58:    - Student: è‚–æµ©è½©
2025-12-17T16:25:04: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T16:25:04: ğŸ›‘ Shutting down server...
2025-12-17T16:25:04: âœ… Database disconnected
2025-12-17T16:25:04: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T16:25:04: ğŸŒ Environment: production
2025-12-17T16:25:04: ğŸ”Œ Port: 3000
2025-12-17T16:25:04: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T16:25:04: ğŸ“ Static path exists: true
2025-12-17T16:25:04: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T16:25:04: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T16:25:04: âœ… Database connected successfully
2025-12-17T16:25:04: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T16:25:04: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T16:25:04: ğŸ”Œ WebSocket server ready
2025-12-17T16:25:04: ğŸŒ Environment: production
2025-12-17T16:31:33: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T16:31:33: ğŸ›‘ Shutting down server...
2025-12-17T16:31:33: âœ… Database disconnected
2025-12-17T16:39:29: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T16:39:29: ğŸŒ Environment: development
2025-12-17T16:39:29: ğŸ”Œ Port: 3000
2025-12-17T16:39:29: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T16:39:29: ğŸ“ Static path exists: true
2025-12-17T16:39:29: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T16:39:29: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T16:39:29: âœ… Database connected successfully
2025-12-17T16:39:29: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T16:39:29: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T16:39:29: ğŸ”Œ WebSocket server ready
2025-12-17T16:39:29: ğŸŒ Environment: development
2025-12-17T16:52:59: 2025-12-17T16:52:59.166Z - GET /api/lms/student-progress
2025-12-17T16:52:59: ğŸ” [AUTH_MIDDLEWARE] Processing GET /student-progress
2025-12-17T16:52:59: ğŸ” [AUTH_MIDDLEWARE] Token found: true, Length: 467
2025-12-17T16:52:59: ğŸ” [AUTH_MIDDLEWARE] Token verification result: true
2025-12-17T16:52:59: âœ… [AUTH_MIDDLEWARE] User authenticated: long (TEACHER)
2025-12-17T16:55:06: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T16:55:06: ğŸ›‘ Shutting down server...
2025-12-17T16:55:06: âœ… Database disconnected
2025-12-17T18:09:22: ğŸš€ Starting ArkOK V2 Server...
2025-12-17T18:09:22: ğŸŒ Environment: development
2025-12-17T18:09:22: ğŸ”Œ Port: 3000
2025-12-17T18:09:22: ğŸ” Static files being served from: /home/devbox/project/arkok-v2/client/dist
2025-12-17T18:09:22: ğŸ“ Static path exists: true
2025-12-17T18:09:22: ğŸ”§ Setting up Socket.IO handlers...
2025-12-17T18:09:22: ğŸ”Œ Socket.io æœåŠ¡å·²åˆå§‹åŒ–ï¼Œæ”¯æŒ JWT è®¤è¯å’Œå­¦æ ¡æˆ¿é—´ç®¡ç†
2025-12-17T18:09:22: âœ… Database connected successfully
2025-12-17T18:09:22: ğŸš€ ArkOK V2 Server running on port 3000
2025-12-17T18:09:22: ğŸ“‹ Health check: http://0.0.0.0:3000/health
2025-12-17T18:09:22: ğŸ”Œ WebSocket server ready
2025-12-17T18:09:22: ğŸŒ Environment: development
2025-12-17T18:14:42: 
ğŸ›‘ SIGINT received, shutting down gracefully...
2025-12-17T18:14:42: ğŸ›‘ Shutting down server...
2025-12-17T18:14:42: âœ… Database disconnected
2025-12-18T05:27:34: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:27:35: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:27:35: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:27:35: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:27:35: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:27:36: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:27:36: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:27:36: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:27:37: ğŸš€ Starting ArkOK V2 Server...
2025-12-18T05:27:37: ğŸš€ Starting ArkOK V2 Server...
