# StarJourney ç‹¬ç«‹å¼€å‘æ¨¡å—

## æ¨¡å—æ¦‚è¿°

è¿™æ˜¯StarJourneyåŠŸèƒ½çš„ç‹¬ç«‹å¼€å‘æ¨¡å—ï¼Œç”¨äºåœ¨èåˆåˆ°Growarkä¹‹å‰ï¼Œå®Œæ•´å¼€å‘å’Œæµ‹è¯•æ‰€æœ‰StarJourneyåŠŸèƒ½ã€‚

## å¼€å‘ç­–ç•¥

### ğŸ¯ **å…ˆç‹¬ç«‹ï¼Œåèåˆ**
- **é›¶é£é™©å¼€å‘**ï¼šå®Œå…¨ç‹¬ç«‹ï¼Œä¸å½±å“Growarkç°æœ‰åŠŸèƒ½
- **å®Œæ•´æµ‹è¯•**ï¼šå¯ä»¥å……åˆ†æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
- **ç‹¬ç«‹éƒ¨ç½²**ï¼šå¯ä»¥ç‹¬ç«‹è¿è¡Œå’Œæ¼”ç¤º

## æ¨¡å—ç»“æ„

```
starj/
â”œâ”€â”€ star-server.js              # ç‹¬ç«‹åç«¯æœåŠ¡å™¨ (ç«¯å£3001)
â”œâ”€â”€ star-demo.html              # ç‹¬ç«‹å‰ç«¯æµ‹è¯•é¡µé¢
â”œâ”€â”€ star-extend-schema.js       # æ•°æ®åº“æ‰©å±•è„šæœ¬
â”œâ”€â”€ star-api.js                 # APIæ¥å£å°è£…
â”œâ”€â”€ star-static/                # é™æ€èµ„æºç›®å½•
â”‚   â”œâ”€â”€ css/                   # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ js/                    # JavaScriptæ–‡ä»¶
â”‚   â””â”€â”€ images/                # å›¾ç‰‡èµ„æº
â””â”€â”€ README.md                   # æœ¬æ–‡æ¡£
```

## å¿«é€Ÿå¯åŠ¨

### 1. ç¯å¢ƒå‡†å¤‡
```bash
# è¿›å…¥StarJourneyç›®å½•
cd /home/devbox/project/starj

# ç¡®è®¤Growarkæ•°æ®åº“å¯è®¿é—®
psql -h growark-postgresql.ns-bg6fgs6y.svc -U postgres -d postgres -c "\dt" | head -5
```

### 2. æ•°æ®åº“åˆå§‹åŒ–
```bash
# æ‰§è¡Œæ•°æ®åº“æ‰©å±•è„šæœ¬
node star-extend-schema.js

# éªŒè¯æ–°è¡¨åˆ›å»º
psql -h growark-postgresql.ns-bg6fgs6y.svc -U postgres -d postgres -c "\dt lms_*"
```

### 3. å¯åŠ¨ç‹¬ç«‹æœåŠ¡å™¨
```bash
# å¯åŠ¨StarJourneyæœåŠ¡å™¨ (ç«¯å£3001)
node star-server.js

# éªŒè¯æœåŠ¡å™¨å¯åŠ¨
curl http://localhost:3001/api/health
```

### 4. è®¿é—®æµ‹è¯•é¡µé¢
```bash
# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
open http://localhost:3001/star-demo.html

# æˆ–è€…é€šè¿‡å…¬ç½‘åœ°å€è®¿é—®
# http://å…¬ç½‘åœ°å€:3001/star-demo.html
```

## åŠŸèƒ½æ¨¡å—

### 1. é”™é¢˜ç®¡ç† (lms_mistakes)
- å›¾ç‰‡ä¸Šä¼ å’ŒOCRè¯†åˆ«
- é”™é¢˜åˆ†æå’ŒAIè¯„ä¼°
- é”™é¢˜çŠ¶æ€ç®¡ç†

### 2. è¿‡å…³ç®¡ç† (lms_student_record)
- ä»»åŠ¡åˆ›å»ºå’Œåˆ†é…
- è¾…å¯¼å°è¯•è®°å½• (attempt_count)
- è¿‡å…³çŠ¶æ€ç®¡ç†
- ç»éªŒå€¼è®¡ç®—

### 3. å­¦æƒ…æŠ¥å‘Š (lms_academic_reports)
- äº”ç»´èƒ½åŠ›é›·è¾¾å›¾
- AIç”Ÿæˆè¯„è¯­
- å­¦ä¹ å»ºè®®ç”Ÿæˆ

### 4. å¤‡è¯¾ç®¡ç† (lms_lesson_plans)
- è¯¾ç¨‹è®¡åˆ’åˆ›å»º
- è´¨æ£€é¡¹è®¾ç½®
- ä¸ªæ€§åŒ–åŠ é¤

## APIæ¥å£

### é”™é¢˜ç®¡ç†
```javascript
POST   /api/mistakes/upload           // ä¸Šä¼ é”™é¢˜
GET    /api/mistakes                 // è·å–é”™é¢˜åˆ—è¡¨
PUT    /api/mistakes/:id             // æ›´æ–°é”™é¢˜
DELETE /api/mistakes/:id             // åˆ é™¤é”™é¢˜
```

### è¿‡å…³ç®¡ç†
```javascript
GET    /api/records                  // è·å–è¿‡å…³è®°å½•
POST   /api/records                  // åˆ›å»ºè¿‡å…³è®°å½•
PATCH  /api/records/:id/attempt      // è®°å½•è¾…å¯¼å°è¯•
PATCH  /api/records/:id/pass         // æ ‡è®°é€šè¿‡
DELETE /api/records/:id              // åˆ é™¤è®°å½•
```

### å­¦æƒ…æŠ¥å‘Š
```javascript
GET    /api/reports                  // è·å–å­¦æƒ…æŠ¥å‘Š
POST   /api/reports/generate         // ç”ŸæˆæŠ¥å‘Š
```

## æµ‹è¯•ç”¨ä¾‹

### 1. æ•°æ®åº“æµ‹è¯•
```bash
# æµ‹è¯•è¡¨åˆ›å»º
psql -h growark-postgresql.ns-bg6fgs6y.svc -U postgres -d postgres -c "\d lms_mistakes"

# æµ‹è¯•å¤–é”®çº¦æŸ
INSERT INTO lms_student_record (student_id, task_name) VALUES (99999, 'test');
# é¢„æœŸï¼šåº”è¯¥æŠ¥é”™
```

### 2. APIæµ‹è¯•
```bash
# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:3001/api/health

# æµ‹è¯•é”™é¢˜ä¸Šä¼ 
curl -X POST http://localhost:3001/api/mistakes \
  -H "Content-Type: application/json" \
  -d '{"student_id": 1, "ocr_text": "æµ‹è¯•é”™é¢˜"}'

# æµ‹è¯•è¿‡å…³è®°å½•
curl -X POST http://localhost:3001/api/records \
  -H "Content-Type: application/json" \
  -d '{"student_id": 1, "task_name": "å£ç®—", "task_type": "QC"}'
```

### 3. åŠŸèƒ½æµ‹è¯•
- åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `star-demo.html`
- æµ‹è¯•æ‰€æœ‰åŠŸèƒ½æ¨¡å—
- éªŒè¯æ•°æ®æŒä¹…åŒ–
- æ£€æŸ¥UIäº¤äº’æµç•…æ€§

## å¼€å‘è§„èŒƒ

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ES6+è¯­æ³•
- å‡½æ•°å¼ç¼–ç¨‹é£æ ¼
- å®Œæ•´çš„é”™è¯¯å¤„ç†
- è¯¦ç»†çš„æ³¨é‡Šè¯´æ˜

### æµ‹è¯•è¦æ±‚
- æ¯ä¸ªAPIæ¥å£å¿…é¡»æœ‰æµ‹è¯•ç”¨ä¾‹
- æ•°æ®åº“æ“ä½œå¿…é¡»æœ‰äº‹åŠ¡å¤„ç†
- æ‰€æœ‰åŠŸèƒ½å¿…é¡»é€šè¿‡å®Œæ•´æµ‹è¯•

### æ–‡æ¡£è¦æ±‚
- APIæ¥å£æ–‡æ¡£å®Œæ•´
- æ•°æ®åº“è®¾è®¡æ–‡æ¡£æ¸…æ™°
- æµ‹è¯•ç”¨ä¾‹æ–‡æ¡£è¯¦ç»†

## ä¸Growarkçš„é›†æˆè®¡åˆ’

å½“StarJourneyç‹¬ç«‹åŠŸèƒ½å®Œå…¨æµ‹è¯•é€šè¿‡åï¼Œå°†æŒ‰ä»¥ä¸‹æ–¹å¼é›†æˆï¼š

1. **æ•°æ®åº“é›†æˆ**ï¼šå¤ç”¨å·²åˆ›å»ºçš„è¡¨ç»“æ„
2. **APIé›†æˆ**ï¼šæ•´åˆåˆ°Growarkçš„server.js
3. **UIé›†æˆ**ï¼šåˆ›å»ºç¬¦åˆGrowarkè®¾è®¡è§„èŒƒçš„ç»„ä»¶
4. **æ•°æ®åŒæ­¥**ï¼šç¡®ä¿ä¸ç°æœ‰ç§¯åˆ†ç³»ç»Ÿçš„ä¸€è‡´æ€§

## æ³¨æ„äº‹é¡¹

1. **ç«¯å£å†²çª**ï¼šStarJourneyä½¿ç”¨3001ç«¯å£ï¼Œé¿å…ä¸Growarkçš„3000ç«¯å£å†²çª
2. **æ•°æ®åº“å…±äº«**ï¼šä½¿ç”¨ç›¸åŒçš„PostgreSQLæ•°æ®åº“ï¼Œä½†ä¸åŒçš„è¡¨å‰ç¼€(lms_)
3. **ç‹¬ç«‹æµ‹è¯•**ï¼šç¡®ä¿åœ¨é›†æˆå‰æ‰€æœ‰åŠŸèƒ½éƒ½å·²å®Œæ•´æµ‹è¯•
4. **å¤‡ä»½é‡è¦æ€§**ï¼šæ¯æ¬¡é‡è¦ä¿®æ”¹å‰éƒ½è¦å¤‡ä»½æ•°æ®åº“

---

**å¼€å‘çŠ¶æ€**ï¼šæ­£åœ¨å¼€å‘ä¸­
**æœ€åæ›´æ–°**ï¼š2025-12-09
**ä¸‹ä¸€æ­¥**ï¼šåˆ›å»ºæ•°æ®åº“æ‰©å±•è„šæœ¬