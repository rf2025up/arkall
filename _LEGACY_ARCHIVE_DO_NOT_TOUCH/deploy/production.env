# StarJourney 生产环境配置
# =====================================

# 应用配置
NODE_ENV=production
PORT=3001
LOG_LEVEL=info

# 数据库配置
DATABASE_URL=postgresql://postgres:kngwb5cb@growark-postgresql.ns-bg6fgs6y.svc:5432/postgres
DB_HOST=growark-postgresql.ns-bg6fgs6y.svc
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=kngwb5cb
DB_NAME=postgres
DB_SSL=false
DB_MAX_CONNECTIONS=20
DB_MIN_CONNECTIONS=5
DB_IDLE_TIMEOUT=30000

# 服务器配置
HOST=0.0.0.0
PORT=3001
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000
HEADERS_TIMEOUT=60000

# 安全配置
CORS_ORIGIN=https://esboimzbkure.sealosbja.site
CORS_CREDENTIALS=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Redis配置 (可选，用于缓存)
REDIS_URL=redis://localhost:6379
REDIS_TTL=3600

# 监控配置
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
PERFORMANCE_MONITORING=true

# 错误处理
ERROR_LOG_FILE=/var/log/starj/error.log
ACCESS_LOG_FILE=/var/log/starj/access.log
MAX_LOG_SIZE=50m
MAX_LOG_FILES=5

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=starj-backups

# 邮件配置 (用于错误报告)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@starj.com
SMTP_PASS=your_smtp_password
SMTP_FROM=StarJourney系统 <noreply@starj.com>
SMTP_TO=admin@starj.com

# JWT配置 (如果需要)
JWT_SECRET=your_super_secret_jwt_key_change_in_production
JWT_EXPIRES_IN=24h

# 业务配置
DEFAULT_TEACHER_ID=teacher_001
MAX_BATCH_SIZE=1000
TASK_TIMEOUT_MS=5000
API_RESPONSE_CACHE_TTL=300

# 开发/调试配置 (生产环境设为false)
DEBUG_MODE=false
ENABLE_PROFILING=false
ENABLE_QUERY_LOGGING=false